import{c as it,r as c,j as e,M as Re,A as Q,C as We,R as Ze,Z as ne,H as nt,B as ot,S as Ue,a as Ce,X as te,L as lt,b as at,d as dt,D as ct,e as we,W as pt,f as xt,g as J,h as Ne,i as Le,k as Ye,l as ye,m as Ve,n as Je,U as Pe,o as _e,p as be,q as ut,s as Ee,t as ht,u as He,T as xe,P as ke,v as Ie,w as gt,x as mt,I as ft,y as yt,z as Me,E as Be,F as bt,G as T,J as jt,K as Xe,N as vt,O as Oe,Q as Ge,V as $e,Y as wt,_ as St,$ as kt,a0 as zt,a1 as pe,a2 as Ct,a3 as Bt,a4 as Rt}from"./vendor-KI4Q7WJ5.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const y of l.addedNodes)y.tagName==="LINK"&&y.rel==="modulepreload"&&n(y)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();const It=void 0,Nt=void 0;console.error("Supabase URL or Anon Key is missing in .env file");const b=it(It,Nt),Pt=()=>{var m,w;const[i,s]=c.useState(null),[r,n]=c.useState(null),[a,l]=c.useState(!0),[y,u]=c.useState(null);if(c.useEffect(()=>{try{const o=window.location.pathname,p="/print-quote/";if(o.includes(p)){const S=o.split(p)[1].split("/")[0];console.log("Extracted ID:",S),s(S)}else throw new Error("Invalid URL format")}catch(o){console.error("ID Extraction failed:",o),u("Could not read Quote ID from URL"),l(!1)}},[]),c.useEffect(()=>{if(!i)return;(async()=>{try{const{data:{session:p}}=await b.auth.getSession(),{data:S,error:I}=await b.from("inquiries").select("*, products(*), buyer:profiles!inquiries_buyer_id_fkey(*)").eq("id",i).single();if(I)throw I;n(S)}catch(p){console.error("Fetch error:",p),u(p.message)}finally{l(!1)}})()},[i]),c.useEffect(()=>{if(r&&!a&&!y){const o=setTimeout(()=>{window.print()},1e3);return()=>clearTimeout(o)}},[r,a,y]),a)return e.jsx("div",{style:{padding:"50px",textAlign:"center"},children:"Loading Request..."});if(y)return e.jsxs("div",{style:{padding:"50px",color:"red",textAlign:"center"},children:[e.jsx("h2",{children:"Error Loading Quote"}),e.jsx("p",{children:y}),e.jsxs("p",{style:{fontSize:"0.8rem",color:"#666"},children:["URL: ",window.location.pathname]})]});if(!r)return e.jsx("div",{style:{padding:"50px",textAlign:"center"},children:"Request not found."});const h=()=>{try{if(r.message&&r.message.includes("QTY:")){const p=r.message.split("|").find(S=>S.trim().startsWith("QTY:"));return p?p.split(":")[1].trim():"1"}return r.quantity||"1"}catch{return"1"}},j=()=>{try{if(r.message&&r.message.includes("NOTES:")){const p=r.message.split("|").find(S=>S.trim().startsWith("NOTES:"));return p?p.split(":")[1].trim():""}return r.additional_notes||""}catch{return""}};return e.jsxs("div",{style:{maxWidth:"800px",margin:"0 auto",padding:"40px",fontFamily:"Arial, sans-serif",color:"#333"},children:[e.jsxs("div",{className:"no-print",style:{background:"#e3f2fd",color:"#0d47a1",padding:"16px",borderRadius:"8px",marginBottom:"24px",textAlign:"center"},children:[e.jsx("p",{style:{margin:0,fontWeight:"bold"},children:"To Save as PDF:"}),e.jsx("p",{style:{margin:"4px 0 0"},children:'Select "Save as PDF" in the print destination.'})]}),e.jsxs("div",{style:{borderBottom:"2px solid #ed6c02",paddingBottom:"20px",marginBottom:"40px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("div",{style:{width:"40px",height:"40px",background:"#ed6c02",borderRadius:"8px"}}),e.jsx("h1",{style:{margin:0,fontSize:"24px",color:"#111"},children:"SUNGATE ZAMBIA"})]}),e.jsxs("div",{style:{textAlign:"right"},children:[e.jsx("h2",{style:{margin:0,color:"#ed6c02",fontSize:"18px"},children:"REQUEST FOR QUOTATION"}),e.jsxs("p",{style:{margin:"5px 0 0",fontSize:"14px",color:"#666"},children:["Date: ",r.created_at?new Date(r.created_at).toLocaleDateString():"N/A"]}),e.jsxs("p",{style:{margin:"0",fontSize:"14px",color:"#666"},children:["Ref: ",r.id?r.id.slice(0,8).toUpperCase():"N/A"]})]})]}),e.jsxs("div",{style:{marginBottom:"40px"},children:[e.jsxs("p",{style:{marginBottom:"20px"},children:[e.jsx("strong",{children:"To:"})," Supplier / Partner"]}),e.jsx("p",{style:{lineHeight:"1.6"},children:"Please provide your best price and availability for the following item(s). This is an official inquiry from SunGate Zambia on behalf of a verified client."})]}),e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",marginBottom:"40px"},children:[e.jsx("thead",{children:e.jsxs("tr",{style:{background:"#f8f9fa",textAlign:"left"},children:[e.jsx("th",{style:{padding:"12px",borderBottom:"2px solid #ddd"},children:"Item Description"}),e.jsx("th",{style:{padding:"12px",borderBottom:"2px solid #ddd",width:"100px",textAlign:"center"},children:"Qty"}),e.jsx("th",{style:{padding:"12px",borderBottom:"2px solid #ddd",width:"150px"},children:"Notes"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsxs("td",{style:{padding:"16px 12px",borderBottom:"1px solid #eee"},children:[e.jsx("div",{style:{fontWeight:"bold",marginBottom:"4px"},children:((m=r.products)==null?void 0:m.name)||"Unknown Product"}),e.jsxs("div",{style:{fontSize:"12px",color:"#666"},children:["Category: ",((w=r.products)==null?void 0:w.category)||"General"]})]}),e.jsx("td",{style:{padding:"16px 12px",borderBottom:"1px solid #eee",textAlign:"center"},children:h()}),e.jsx("td",{style:{padding:"16px 12px",borderBottom:"1px solid #eee",fontSize:"14px",color:"#555"},children:j()||"-"})]})})]}),e.jsxs("div",{style:{marginTop:"60px",borderTop:"1px solid #eee",paddingTop:"20px",fontSize:"12px",color:"#888",textAlign:"center"},children:[e.jsxs("p",{children:[e.jsx("strong",{children:"SunGate Zambia"})," • admin@sungate.co.zm • +260 97 000 0000"]}),e.jsx("p",{children:"Digital Marketplace for Renewable Energy Solutions"})]}),e.jsx("div",{className:"no-print",style:{textAlign:"center",marginTop:"40px"},children:e.jsx("button",{onClick:()=>window.print(),style:{padding:"12px 24px",background:"#333",color:"white",border:"none",borderRadius:"4px",cursor:"pointer",fontSize:"16px"},children:"Print / Save as PDF"})}),e.jsx("style",{children:`
                @media print {
                    .no-print { display: none; }
                    body { margin: 0; padding: 0; }
                }
            `})]})},Wt=({onSaveResult:i})=>{const[s,r]=c.useState(1),[n,a]=c.useState({location:"",bill:1500,appliances:[],battery:"yes"}),[l,y]=c.useState(null),u=["Lusaka","Ndola","Livingstone","Kitwe","Rural Area","Other"],h=[{id:"lights",label:"Lights + Phone charging",icon:e.jsx(ne,{size:18})},{id:"fridge",label:"Fridge + TV",icon:e.jsx(nt,{size:18})},{id:"borehole",label:"Full house + Borehole",icon:e.jsx(ne,{size:18})},{id:"business",label:"Business/Shop",icon:e.jsx(ot,{size:18})}],j=o=>{a(p=>({...p,appliances:p.appliances.includes(o)?p.appliances.filter(S=>S!==o):[...p.appliances,o]}))},m=()=>{const o=n.bill/500,p=n.appliances.length*1.5,S=Math.max(3,Math.ceil(o+p)),I=S*8e3,K=S*15e3,D=n.bill*.9,q=S*2.5*30*1.35;y({size:`${S}kW`,cost:`K${I.toLocaleString()} - K${K.toLocaleString()}`,savings:`K${D.toLocaleString()}`,income:`K${Math.round(q).toLocaleString()}`,payback:"3-4 years"}),r(5)},w=()=>{r(1),a({location:"",bill:1500,appliances:[],battery:"yes"}),y(null)};return e.jsx("section",{id:"calculator",style:{padding:"var(--section-padding)",background:"var(--bg-off-white)"},children:e.jsxs("div",{className:"container",style:{maxWidth:"800px"},children:[e.jsxs("div",{style:{textAlign:"center",marginBottom:"40px"},children:[e.jsx("h2",{style:{fontSize:"2.5rem",color:"var(--trust-blue)",marginBottom:"12px"},children:"Solar Savings Calculator"}),e.jsx("p",{style:{color:"var(--text-muted)"},children:"Get a personalized estimate for your solar journey in Zambia."})]}),e.jsxs("div",{style:{background:"white",padding:"40px",borderRadius:"var(--radius-lg)",boxShadow:"var(--shadow-md)"},children:[s===1&&e.jsxs("div",{className:"calc-step",children:[e.jsxs("h3",{style:{marginBottom:"24px"},children:[e.jsx(Re,{size:24,color:"var(--sun-orange)",style:{verticalAlign:"middle",marginRight:"10px"}})," Step 1: Where in Zambia are you?"]}),e.jsx("div",{className:"grid grid-2",style:{gap:"12px"},children:u.map(o=>e.jsx("button",{onClick:()=>{a({...n,location:o}),r(2)},style:{padding:"16px",borderRadius:"var(--radius-md)",border:"2px solid #eee",background:n.location===o?"var(--sky-blue)":"white",borderColor:n.location===o?"var(--trust-blue)":"#eee",fontWeight:600,textAlign:"left"},children:o},o))})]}),s===2&&e.jsxs("div",{className:"calc-step",children:[e.jsx("h3",{style:{marginBottom:"24px"},children:"Step 2: What's your monthly ZESCO bill?"}),e.jsxs("div",{style:{padding:"20px 0"},children:[e.jsxs("div",{style:{fontSize:"2rem",fontWeight:800,color:"var(--zambia-green)",textAlign:"center",marginBottom:"20px"},children:["K",n.bill.toLocaleString()]}),e.jsx("input",{type:"range",min:"200",max:"5000",step:"100",value:n.bill,onChange:o=>a({...n,bill:parseInt(o.target.value)}),style:{width:"100%",accentColor:"var(--sun-orange)"}}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"10px",color:"#999",fontSize:"0.9rem"},children:[e.jsx("span",{children:"K200"}),e.jsx("span",{children:"K5,000+"})]})]}),e.jsxs("button",{className:"btn btn-primary",style:{width:"100%",marginTop:"30px"},onClick:()=>r(3),children:["Next Step ",e.jsx(Q,{size:18})]})]}),s===3&&e.jsxs("div",{className:"calc-step",children:[e.jsx("h3",{style:{marginBottom:"24px"},children:"Step 3: What do you want to power?"}),e.jsx("div",{className:"grid grid-2",style:{gap:"12px"},children:h.map(o=>e.jsxs("button",{onClick:()=>j(o.id),style:{padding:"16px",borderRadius:"var(--radius-md)",border:"2px solid #eee",background:n.appliances.includes(o.id)?"var(--sky-blue)":"white",borderColor:n.appliances.includes(o.id)?"var(--trust-blue)":"#eee",fontWeight:600,textAlign:"left",display:"flex",alignItems:"center",gap:"12px"},children:[o.icon," ",o.label]},o.id))}),e.jsxs("button",{className:"btn btn-primary",style:{width:"100%",marginTop:"30px"},onClick:()=>r(4),children:["Next Step ",e.jsx(Q,{size:18})]})]}),s===4&&e.jsxs("div",{className:"calc-step",children:[e.jsx("h3",{style:{marginBottom:"24px"},children:"Step 4: Need battery backup for load-shedding?"}),e.jsxs("div",{style:{display:"flex",gap:"12px"},children:[e.jsx("button",{onClick:()=>a({...n,battery:"yes"}),style:{flex:1,padding:"20px",borderRadius:"var(--radius-md)",border:"2px solid #eee",background:n.battery==="yes"?"var(--sky-blue)":"white",borderColor:n.battery==="yes"?"var(--trust-blue)":"#eee",fontWeight:700},children:"Yes, Full Backup"}),e.jsx("button",{onClick:()=>a({...n,battery:"no"}),style:{flex:1,padding:"20px",borderRadius:"var(--radius-md)",border:"2px solid #eee",background:n.battery==="no"?"var(--sky-blue)":"white",borderColor:n.battery==="no"?"var(--trust-blue)":"#eee",fontWeight:700},children:"No, Daytime Only"})]}),e.jsxs("button",{className:"btn btn-primary",style:{width:"100%",marginTop:"30px",background:"var(--zambia-green)"},onClick:m,children:["Calculate My System ",e.jsx(We,{size:18,style:{marginLeft:"8px"}})]})]}),s===5&&l&&e.jsxs("div",{className:"results-step",style:{textAlign:"center"},children:[e.jsxs("div",{style:{background:"var(--sky-blue)",padding:"30px",borderRadius:"var(--radius-md)",marginBottom:"30px"},children:[e.jsxs("h3",{style:{color:"var(--trust-blue)",marginBottom:"20px"},children:["Recommended System for ",n.location]}),e.jsxs("div",{className:"grid grid-2",style:{gap:"20px"},children:[e.jsxs("div",{style:{background:"white",padding:"15px",borderRadius:"var(--radius-sm)"},children:[e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:"System Size"}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:800},children:l.size})]}),e.jsxs("div",{style:{background:"white",padding:"15px",borderRadius:"var(--radius-sm)"},children:[e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:"Est. Cost"}),e.jsx("div",{style:{fontSize:"1.2rem",fontWeight:800},children:l.cost})]}),e.jsxs("div",{style:{background:"white",padding:"15px",borderRadius:"var(--radius-sm)"},children:[e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:"Monthly Saving"}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:800,color:"var(--zambia-green)"},children:l.savings})]}),e.jsxs("div",{style:{background:"white",padding:"15px",borderRadius:"var(--radius-sm)",border:"1px solid var(--sun-orange)"},children:[e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--sun-orange)",fontWeight:700},children:"ZESCO Return (K1.35)"}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:800},children:l.income})]}),e.jsxs("div",{style:{background:"white",padding:"15px",borderRadius:"var(--radius-sm)"},children:[e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)"},children:"Payback Time"}),e.jsx("div",{style:{fontSize:"1.5rem",fontWeight:800},children:l.payback})]})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:[e.jsx("a",{href:"#installers",className:"btn btn-primary",style:{width:"100%"},children:"Get Quotes from Certified Installers"}),e.jsx("button",{className:"btn btn-secondary",style:{width:"100%",background:"var(--sky-blue)",border:"1px solid var(--trust-blue)",color:"var(--trust-blue)"},onClick:()=>i({bill:n.bill,systemSize:parseFloat(l.size),estimatedCost:parseInt(l.cost.split(" ")[0].replace("K","").replace(",",""))}),children:"Save Results to Dashboard"}),e.jsxs("button",{className:"btn btn-secondary",style:{width:"100%",background:"transparent",border:"none",color:"var(--trust-blue)"},onClick:w,children:[e.jsx(Ze,{size:16})," Start Over"]})]})]})]})]})})},At=({session:i,profile:s,onNotify:r,onAddToCart:n,refreshTrigger:a,savedProductIds:l=[],onToggleSave:y})=>{const[u,h]=c.useState("All"),[j,m]=c.useState(""),[w,o]=c.useState("all"),[p,S]=c.useState([]),[I,K]=c.useState(!0),[D,X]=c.useState(null),[q,L]=c.useState(!1),[Z,ae]=c.useState(null),[E,U]=c.useState({quantity:1,notes:"",phone:""}),[d,k]=c.useState("newest"),[oe,se]=c.useState(!1),me=x=>{if(!i){r("Please login to request a quote.","info");return}ae(x),U({quantity:1,notes:"",phone:(s==null?void 0:s.phone)||""}),L(!0)},de=async()=>{if(console.log("Submitting quote request..."),!i){alert("Session lost. Please refresh and login.");return}try{K(!0);const x=`QTY: ${E.quantity} | PHONE: ${E.phone} | NOTES: ${E.notes}`,{error:R}=await b.from("inquiries").insert([{product_id:Z.id,supplier_id:Z.supplier_id,buyer_id:i.user.id,message:x,status:"pending"}]);if(R)throw R;console.log("Quote sent successfully. Triggering email...");try{await b.functions.invoke("hyper-api",{body:{product_name:Z.name,customer_email:i.user.email,customer_phone:E.phone,quantity:E.quantity,notes:E.notes}}),console.log("Email notification triggered.")}catch(H){console.error("Failed to trigger email notification:",H)}r?r("Quote request sent! Refreshing...","success"):alert("Quote Request Sent Successfully!"),L(!1),setTimeout(()=>{window.location.reload()},2e3)}catch(x){console.error("Error sending inquiry:",x),r?r("Failed: "+x.message,"error"):alert("Failed: "+x.message)}finally{K(!1)}},re=x=>{if(!i){r("Please login to add items to cart.","info");return}n(x)},ue=[{name:"All",icon:lt},{name:"Kits",icon:at},{name:"Batteries",icon:dt},{name:"Inverters",icon:ne},{name:"Pumps",icon:ct},{name:"Solar Panels",icon:we},{name:"Water Heaters",icon:pt}];c.useEffect(()=>{he()},[a]);const he=async()=>{try{K(!0);const{data:x,error:R}=await b.from("products").select("*");if(R)throw R;S(x||[])}catch(x){console.error("Error fetching products:",x),X(x.message)}finally{K(!1)}},Y=p.filter(x=>{var ge;const R=u==="All"||x.category&&x.category.toLowerCase().trim()===u.toLowerCase().trim(),H=(x.name||"").toLowerCase().includes(j.toLowerCase())||(x.category||"").toLowerCase().includes(j.toLowerCase());let _=!0;if(w!=="all"){const G=parseFloat(((ge=x.price)==null?void 0:ge.toString().replace(/[K,\s]/g,""))||"");isNaN(G)?_=!1:w==="under1000"?_=G<1e3:w==="1000to5000"?_=G>=1e3&&G<=5e3:w==="over5000"&&(_=G>5e3)}return R&&H&&_}).sort((x,R)=>{if(d==="newest")return R.id.toString().localeCompare(x.id.toString());const H=parseFloat(x.price.toString().replace(/[K,\s]/g,"")),_=parseFloat(R.price.toString().replace(/[K,\s]/g,""));return d==="priceLow"?H-_:d==="priceHigh"?_-H:0});return e.jsxs("section",{id:"marketplace",style:{padding:"var(--section-padding)",background:"#fcfcfd"},children:[e.jsxs("div",{className:"container",children:[e.jsx("div",{style:{marginBottom:"40px"},children:e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px",flexWrap:"wrap",gap:"20px"},children:[e.jsxs("div",{children:[e.jsx("h2",{style:{fontSize:"2.5rem",fontWeight:800,color:"var(--trust-blue)",letterSpacing:"-0.02em"},children:"Solar Marketplace"}),e.jsx("p",{style:{color:"var(--text-muted)",fontSize:"1.1rem"},children:"Certified equipment for the Zambian climate."})]}),e.jsx("div",{style:{display:"flex",gap:"8px"},children:e.jsxs("div",{className:"badge",style:{background:"#eef2ff",color:"var(--trust-blue)",border:"1px solid #e0e7ff",padding:"8px 16px",borderRadius:"12px",fontWeight:600},children:[Y.length," Products Found"]})})]})}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(12, 1fr)",gap:"32px"},children:[e.jsx("aside",{style:{gridColumn:"span 3",display:typeof window<"u"&&window.innerWidth<1024?"none":"block",position:"sticky",top:"100px",height:"fit-content"},children:e.jsxs("div",{style:{background:"rgba(255, 255, 255, 0.7)",backdropFilter:"blur(10px)",border:"1px solid #eee",borderRadius:"20px",padding:"24px",boxShadow:"0 4px 6px -1px rgba(0,0,0,0.05)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"24px",color:"var(--trust-blue)"},children:[e.jsx(Ue,{size:20}),e.jsx("h3",{style:{fontSize:"1.1rem",fontWeight:700},children:"Filters"})]}),e.jsxs("div",{style:{marginBottom:"24px"},children:[e.jsx("label",{style:{fontSize:"0.85rem",fontWeight:700,display:"block",marginBottom:"8px",color:"#666"},children:"SEARCH"}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx(Ce,{size:16,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#999"}}),e.jsx("input",{type:"text",placeholder:"Panels, kits...",value:j,onChange:x=>m(x.target.value),style:{width:"100%",padding:"10px 12px 10px 36px",borderRadius:"12px",border:"1px solid #ddd",fontSize:"0.9rem",outline:"none"}}),j&&e.jsx("button",{onClick:()=>m(""),style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"#999"},children:e.jsx(te,{size:14})})]})]}),e.jsxs("div",{style:{marginBottom:"24px"},children:[e.jsx("label",{style:{fontSize:"0.85rem",fontWeight:700,display:"block",marginBottom:"12px",color:"#666"},children:"CATEGORIES"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:ue.map(x=>{const R=x.icon;return e.jsxs("button",{onClick:()=>h(x.name),style:{display:"flex",alignItems:"center",gap:"10px",padding:"10px 12px",borderRadius:"10px",border:"none",background:u===x.name?"var(--trust-blue)":"transparent",color:u===x.name?"white":"var(--text-dark)",cursor:"pointer",transition:"all 0.2s",textAlign:"left",fontWeight:u===x.name?600:500,fontSize:"0.95rem"},children:[e.jsx(R,{size:18}),x.name]},x.name)})})]}),e.jsxs("div",{style:{marginBottom:"24px"},children:[e.jsx("label",{style:{fontSize:"0.85rem",fontWeight:700,display:"block",marginBottom:"12px",color:"#666"},children:"PRICE RANGE"}),e.jsxs("select",{value:w,onChange:x=>o(x.target.value),style:{width:"100%",padding:"10px",borderRadius:"10px",border:"1px solid #ddd",background:"white",cursor:"pointer"},children:[e.jsx("option",{value:"all",children:"Any Price"}),e.jsx("option",{value:"under1000",children:"Under K1,000"}),e.jsx("option",{value:"1000to5000",children:"K1,000 - K5,000"}),e.jsx("option",{value:"over5000",children:"Over K5,000"})]})]})]})}),e.jsxs("main",{style:{gridColumn:typeof window<"u"&&window.innerWidth<1024?"span 12":"span 9"},children:[e.jsxs("div",{style:{display:typeof window<"u"&&window.innerWidth<1024?"flex":"none",flexDirection:"column",gap:"16px",marginBottom:"24px"},children:[e.jsx("div",{style:{display:"flex",overflowX:"auto",gap:"8px",paddingBottom:"8px"},className:"no-scrollbar",children:ue.map(x=>{const R=x.icon;return e.jsxs("button",{onClick:()=>h(x.name),style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",borderRadius:"99px",border:"1px solid #eee",background:u===x.name?"var(--trust-blue)":"white",color:u===x.name?"white":"var(--text-dark)",whiteSpace:"nowrap",fontWeight:600,fontSize:"0.9rem"},children:[e.jsx(R,{size:16})," ",x.name]},x.name)})}),e.jsxs("div",{style:{display:"flex",gap:"8px"},children:[e.jsxs("button",{onClick:()=>se(!0),style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",padding:"12px",background:"white",border:"1px solid #eee",borderRadius:"12px",fontWeight:600},children:[e.jsx(Ue,{size:18})," Filters"]}),e.jsxs("div",{style:{flex:1,position:"relative"},children:[e.jsx(xt,{size:16,style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#999"}}),e.jsxs("select",{value:d,onChange:x=>k(x.target.value),style:{width:"100%",padding:"12px 12px 12px 36px",border:"1px solid #eee",borderRadius:"12px",background:"white",appearance:"none",fontWeight:600},children:[e.jsx("option",{value:"newest",children:"Newest First"}),e.jsx("option",{value:"priceLow",children:"Price: Low to High"}),e.jsx("option",{value:"priceHigh",children:"Price: High to Low"})]})]})]})]}),e.jsx("div",{style:{display:typeof window<"u"&&window.innerWidth<1024?"none":"flex",justifyContent:"flex-end",marginBottom:"24px"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsx("span",{style:{color:"#666",fontSize:"0.9rem"},children:"Sort by:"}),e.jsx("div",{style:{position:"relative"},children:e.jsxs("select",{value:d,onChange:x=>k(x.target.value),style:{padding:"8px 32px 8px 12px",border:"1px solid #eee",borderRadius:"8px",background:"white",fontWeight:600,cursor:"pointer",outline:"none"},children:[e.jsx("option",{value:"newest",children:"Newest First"}),e.jsx("option",{value:"priceLow",children:"Price: Low to High"}),e.jsx("option",{value:"priceHigh",children:"Price: High to Low"})]})})]})}),e.jsx("div",{className:"grid grid-3",style:{gap:"24px"},children:I?e.jsxs("div",{style:{gridColumn:"span 3",textAlign:"center",padding:"100px 0"},children:[e.jsx("div",{className:"spinner",style:{marginBottom:"20px"}}),e.jsx("p",{children:"Loading catalog..."})]}):D?e.jsxs("div",{style:{gridColumn:"span 3",textAlign:"center",padding:"50px",background:"#fff0f0",borderRadius:"20px",color:"#d32f2f"},children:[e.jsxs("p",{children:[e.jsx("b",{children:"Oops!"})," ",D]}),e.jsx("button",{onClick:he,className:"btn btn-secondary",style:{marginTop:"16px"},children:"Try Again"})]}):Y.length===0?e.jsxs("div",{style:{gridColumn:"span 3",textAlign:"center",padding:"100px 0",background:"white",borderRadius:"20px",border:"1px dashed #ddd"},children:[e.jsx("p",{style:{color:"#999",fontSize:"1.1rem"},children:"No products match your criteria."}),e.jsx("button",{onClick:()=>{h("All"),m(""),o("all")},style:{marginTop:"16px",color:"var(--trust-blue)",fontWeight:700,background:"none",border:"none",cursor:"pointer"},children:"Clear all filters"})]}):Y.map(x=>e.jsxs("div",{style:{background:"white",borderRadius:"var(--radius-md)",overflow:"hidden",boxShadow:"var(--shadow-sm)",border:"1px solid #eee",position:"relative",display:"flex",flexDirection:"column"},children:[x.verified&&e.jsxs("div",{style:{position:"absolute",top:"12px",left:"12px",zIndex:10,display:"flex",flexDirection:"column",gap:"8px"},children:[e.jsxs("div",{className:"badge badge-verified",style:{background:"white",display:"flex",alignItems:"center",gap:"4px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:[e.jsx(J,{size:14})," SunGate Verified"]}),x.duty_free&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"badge",style:{background:"var(--zambia-green)",color:"white",display:"flex",alignItems:"center",gap:"4px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",fontSize:"0.7rem"},children:[e.jsx(Ne,{size:14})," 0% Duty & VAT"]}),e.jsxs("div",{className:"badge",style:{background:"var(--trust-blue)",color:"white",display:"flex",alignItems:"center",gap:"4px",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",fontSize:"0.7rem"},children:[e.jsx(J,{size:14})," ZABS SI 20"]})]})]}),e.jsxs("div",{style:{width:"100%",aspectRatio:"1/1",background:"#f5f5f5",overflow:"hidden"},children:[e.jsx("img",{src:x.image,alt:x.name,style:{width:"100%",height:"100%",objectFit:"cover",transition:"transform 0.3s ease"},onMouseOver:R=>R.currentTarget.style.transform="scale(1.05)",onMouseOut:R=>R.currentTarget.style.transform="scale(1)"}),e.jsx("button",{onClick:()=>y(x.id),style:{position:"absolute",top:"12px",right:"12px",background:"white",border:"none",borderRadius:"50%",width:"36px",height:"36px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",boxShadow:"0 2px 4px rgba(0,0,0,0.1)",color:l.includes(x.id)?"#ff4d4d":"#888"},children:e.jsx(Le,{size:20,fill:l.includes(x.id)?"#ff4d4d":"none"})})]}),e.jsxs("div",{style:{padding:"20px",flex:1,display:"flex",flexDirection:"column"},children:[e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--sun-orange)",fontWeight:700,textTransform:"uppercase",marginBottom:"4px"},children:x.category}),e.jsx("h3",{style:{fontSize:"1.2rem",marginBottom:"12px",minHeight:"2.8rem"},children:x.name}),e.jsx("table",{style:{width:"100%",fontSize:"0.85rem",marginBottom:"20px",borderCollapse:"collapse"},children:e.jsx("tbody",{children:Object.entries(x.specs).map(([R,H])=>e.jsxs("tr",{style:{borderBottom:"1px solid #f0f0f0"},children:[e.jsx("td",{style:{padding:"6px 0",color:"var(--text-muted)"},children:R}),e.jsx("td",{style:{padding:"6px 0",fontWeight:600,textAlign:"right"},children:H})]},R))})}),e.jsxs("div",{style:{marginTop:"auto"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[e.jsx("div",{style:{fontSize:"1.4rem",fontWeight:800,color:"var(--trust-blue)"},children:x.price}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",fontSize:"0.8rem",color:"var(--zambia-green)"},children:[e.jsx(Ne,{size:14})," In Stock"]})]}),e.jsxs("div",{style:{display:"flex",gap:"8px"},children:[e.jsx("button",{onClick:()=>me(x),className:"btn btn-primary",style:{flex:1,padding:"10px",fontSize:"0.9rem"},children:"Request Quote"}),e.jsx("button",{onClick:()=>re(x),style:{padding:"10px",borderRadius:"var(--radius-md)",border:"1px solid #ddd",background:"white"},children:e.jsx(Ye,{size:18})})]})]})]})]},x.id))}),e.jsxs("div",{style:{marginTop:"60px",background:"var(--sky-blue)",padding:"30px",borderRadius:"var(--radius-lg)",textAlign:"center"},children:[e.jsx("h3",{style:{marginBottom:"10px"},children:"Don't see what you need?"}),e.jsx("p",{style:{marginBottom:"20px"},children:"We work with 50+ suppliers to source any solar component globally."}),e.jsx("a",{href:"https://wa.me/260974300472?text=Hi%2C%20I%27m%20looking%20for%20custom%20solar%20sourcing%20services",target:"_blank",rel:"noopener noreferrer",className:"btn btn-secondary",style:{textDecoration:"none"},children:"Contact Custom Sourcing"})]})]})]})]}),oe&&e.jsxs("div",{style:{position:"fixed",inset:0,zIndex:1e3},children:[e.jsx("div",{onClick:()=>se(!1),style:{position:"absolute",inset:0,background:"rgba(0,0,0,0.5)",cursor:"pointer"}}),e.jsxs("div",{style:{position:"absolute",inset:"0 0 0 20%",background:"white",padding:"24px",display:"flex",flexDirection:"column",gap:"24px",boxShadow:"-4px 0 10px rgba(0,0,0,0.1)"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("h3",{style:{fontWeight:800},children:"Filters"}),e.jsx("button",{onClick:()=>se(!1),style:{background:"none",border:"none"},children:e.jsx(te,{size:24})})]}),e.jsxs("div",{children:[e.jsx("label",{style:{fontSize:"0.85rem",fontWeight:700,display:"block",marginBottom:"8px"},children:"SEARCH"}),e.jsx("input",{type:"text",placeholder:"Search Marketplace...",value:j,onChange:x=>m(x.target.value),style:{width:"100%",padding:"12px",border:"1px solid #eee",borderRadius:"12px"}})]}),e.jsxs("div",{children:[e.jsx("label",{style:{fontSize:"0.85rem",fontWeight:700,display:"block",marginBottom:"12px"},children:"PRICE RANGE"}),e.jsxs("select",{value:w,onChange:x=>o(x.target.value),style:{width:"100%",padding:"12px",borderRadius:"12px",border:"1px solid #eee"},children:[e.jsx("option",{value:"all",children:"Any Price"}),e.jsx("option",{value:"under1000",children:"Under K1,000"}),e.jsx("option",{value:"1000to5000",children:"K1,000 - K5,000"}),e.jsx("option",{value:"over5000",children:"Over K5,000"})]})]}),e.jsxs("button",{onClick:()=>se(!1),className:"btn btn-primary",style:{marginTop:"auto",width:"100%"},children:["Show ",Y.length," Results"]})]})]}),q&&Z&&e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2e3},children:e.jsxs("div",{style:{background:"white",padding:"30px",borderRadius:"16px",width:"90%",maxWidth:"500px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"20px"},children:[e.jsx("h3",{children:"Request Quote"}),e.jsx("button",{onClick:()=>L(!1),style:{background:"none",border:"none",cursor:"pointer"},children:"✕"})]}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("div",{style:{fontWeight:600,marginBottom:"4px"},children:Z.name}),e.jsxs("div",{style:{fontSize:"0.9rem",color:"#666"},children:["ID: ",String(Z.id).slice(0,8),"..."]})]}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"0.9rem",fontWeight:500},children:"Quantity"}),e.jsx("input",{type:"number",min:"1",value:E.quantity,onChange:x=>U({...E,quantity:parseInt(x.target.value)}),style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid #ddd"}})]}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"0.9rem",fontWeight:500},children:"Additional Notes / Specifications"}),e.jsx("textarea",{value:E.notes,onChange:x=>U({...E,notes:x.target.value}),placeholder:"E.g., Special delivery instructions, specific voltage requirements...",style:{width:"100%",padding:"10px",borderRadius:"8px",border:"1px solid #ddd",minHeight:"100px",fontFamily:"inherit"}})]}),e.jsx("button",{className:"btn btn-primary",style:{width:"100%"},onClick:de,disabled:I,children:I?"Sending...":"Send Quote Request"})]})})]})},Tt=({session:i,onNotify:s})=>{const[r,n]=c.useState(""),[a,l]=c.useState([]),[y,u]=c.useState(!0),[h,j]=c.useState(null),m="0974300472";c.useEffect(()=>{w()},[]);const w=async()=>{try{u(!0);const{data:p,error:S}=await b.from("installers").select("*").order("rating",{ascending:!1});if(S)throw S;l(p||[])}catch(p){console.error("Error fetching installers:",p),j(p.message)}finally{u(!1)}},o=a.filter(p=>p.name.toLowerCase().includes(r.toLowerCase())||p.location.toLowerCase().includes(r.toLowerCase()));return e.jsx("section",{id:"installers",style:{padding:"var(--section-padding)",background:"var(--bg-off-white)"},children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{style:{textAlign:"center",marginBottom:"50px"},children:[e.jsx("h2",{style:{fontSize:"2.5rem",color:"var(--trust-blue)",marginBottom:"12px"},children:"Verified Installer Directory"}),e.jsx("p",{style:{color:"var(--text-muted)",maxWidth:"700px",margin:"0 auto"},children:"We've veted every installer on our platform for ERB compliance and technical expertise. Hire with confidence."})]}),e.jsxs("div",{style:{marginBottom:"40px",display:"flex",justifyContent:"center",gap:"16px",flexWrap:"wrap",alignItems:"center"},children:[e.jsxs("div",{style:{position:"relative",width:"100%",maxWidth:"600px"},children:[e.jsx(Ce,{style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)",color:"#999"},size:20}),e.jsx("input",{type:"text",placeholder:"Search by city (Lusaka, Ndola) or company name...",value:r,onChange:p=>n(p.target.value),style:{width:"100%",padding:"16px 16px 16px 48px",borderRadius:"var(--radius-md)",border:"1px solid #ddd",fontSize:"1rem",boxShadow:"var(--shadow-sm)"}})]}),e.jsxs("a",{href:`https://wa.me/260${m}?text=Hi%2C%20I%27m%20looking%20for%20a%20verified%20solar%20installer.%20Can%20you%20help%20me%20find%20one%3F`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-primary",style:{textDecoration:"none",display:"inline-flex",alignItems:"center",gap:"8px",whiteSpace:"nowrap"},children:[e.jsx(ye,{size:18}),"Request Installer"]})]}),e.jsx("div",{className:"grid grid-2",children:y?e.jsxs("div",{style:{gridColumn:"span 2",textAlign:"center",padding:"100px 0"},children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{style:{marginTop:"20px"},children:"Finding top-rated installers..."})]}):h?e.jsxs("div",{style:{gridColumn:"span 2",textAlign:"center",padding:"50px",background:"#fff0f0",borderRadius:"var(--radius-md)",color:"#d32f2f"},children:[e.jsxs("p",{children:[e.jsx("b",{children:"Error loading installers:"})," ",h]}),e.jsx("button",{onClick:w,className:"btn btn-secondary",style:{marginTop:"16px"},children:"Try Again"})]}):o.length===0?e.jsx("div",{style:{gridColumn:"span 2",textAlign:"center",padding:"100px 0"},children:e.jsx("p",{children:"No installers matching your search found."})}):o.map(p=>e.jsxs("div",{style:{background:"white",padding:"30px",borderRadius:"var(--radius-lg)",boxShadow:"var(--shadow-sm)",border:"1px solid #eee",display:"flex",gap:"24px",flexWrap:"wrap"},children:[e.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"var(--radius-md)",overflow:"hidden",background:"#f5f5f5"},children:e.jsx("img",{src:p.logo,alt:p.name,style:{width:"100%",height:"100%",objectFit:"cover"}})}),e.jsxs("div",{style:{flex:1,minWidth:"250px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"8px"},children:[e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"1.3rem",color:"var(--trust-blue)"},children:p.name}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",color:"var(--text-muted)",fontSize:"0.9rem"},children:[e.jsx(Re,{size:14})," ",p.location]})]}),p.certified&&e.jsx("div",{className:"badge badge-verified",style:{fontSize:"0.7rem"},children:"ERB Certified"})]}),e.jsxs("div",{style:{display:"flex",gap:"16px",margin:"16px 0",fontSize:"0.9rem"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[e.jsx(Ve,{size:16,color:"var(--sun-gold)",fill:"var(--sun-gold)"})," ",e.jsx("b",{children:p.rating})," (",p.reviews,")"]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[e.jsx(Je,{size:16,color:"var(--zambia-green)"})," ",e.jsxs("b",{children:[p.projects,"+"]})," Projects"]})]}),e.jsx("div",{style:{display:"flex",flexWrap:"wrap",gap:"8px"},children:p.services.map(S=>e.jsx("span",{style:{padding:"4px 10px",background:"#f0f0f0",borderRadius:"4px",fontSize:"0.75rem",fontWeight:600},children:S},S))}),e.jsx("div",{style:{marginTop:"20px",display:"flex",gap:"12px",flexWrap:"wrap"},children:e.jsxs("a",{href:`https://wa.me/260${m}?text=Hi%2C%20I%27d%20like%20to%20request%20installer%20services%20from%20${encodeURIComponent(p.name)}%20in%20${encodeURIComponent(p.location)}.%20Can%20you%20help%20me%20connect%20with%20them%3F`,target:"_blank",rel:"noopener noreferrer",className:"btn btn-primary",style:{textDecoration:"none",display:"inline-flex",alignItems:"center",gap:"8px"},children:[e.jsx(ye,{size:18}),"Request Installer"]})})]})]},p.id))}),e.jsx("div",{style:{marginTop:"50px",textAlign:"center"},children:e.jsxs("div",{style:{display:"inline-flex",alignItems:"center",gap:"12px",padding:"12px 24px",background:"white",borderRadius:"99px",border:"1px solid #ddd"},children:[e.jsx(Pe,{size:20,color:"var(--trust-blue)"}),e.jsxs("span",{children:[e.jsx("b",{children:"Are you a solar installer?"})," Get certified on SunGate."]}),e.jsx("a",{href:"https://wa.me/260974300472?text=Hi%2C%20I%27m%20interested%20in%20becoming%20a%20SunGate%20Verified%20installer",target:"_blank",rel:"noopener noreferrer",style:{color:"var(--sun-orange)",fontWeight:700,textDecoration:"none"},children:"Join Now →"})]})})]})})},Dt=()=>{const[i,s]=c.useState([]),[r,n]=c.useState(!0),[a,l]=c.useState(null),[y,u]=c.useState(null);c.useEffect(()=>{j()},[]);const h=m=>{if(!m)return"1 min";const w=200,o=m.split(/\s+/).length;return`${Math.ceil(o/w)} min read`},j=async()=>{try{n(!0);const{data:m,error:w}=await b.from("articles").select("*").order("created_at",{ascending:!1});if(w)throw w;s(m||[])}catch(m){console.error("Error fetching articles:",m),l(m.message)}finally{n(!1)}};return e.jsx("section",{id:"blog",style:{padding:"var(--section-padding)"},children:e.jsxs("div",{className:"container",children:[e.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"40px",flexWrap:"wrap",gap:"20px"},children:e.jsxs("div",{children:[e.jsx("h2",{style:{fontSize:"2.5rem",color:"var(--trust-blue)",marginBottom:"12px"},children:"Knowledge Hub"}),e.jsx("p",{style:{color:"var(--text-muted)"},children:"Expert advice to help you navigate the Zambian solar landscape."})]})}),e.jsx("div",{className:"grid grid-3",style:{gap:"30px"},children:r?e.jsxs("div",{style:{gridColumn:"span 3",textAlign:"center",padding:"100px 0"},children:[e.jsx("div",{className:"spinner"}),e.jsx("p",{style:{marginTop:"20px"},children:"Loading the latest expert insights..."})]}):a?e.jsxs("div",{style:{gridColumn:"span 3",textAlign:"center",padding:"50px",background:"#fff0f0",borderRadius:"var(--radius-md)",color:"#d32f2f"},children:[e.jsxs("p",{children:[e.jsx("b",{children:"Error loading articles:"})," ",a]}),e.jsx("button",{onClick:j,className:"btn btn-secondary",style:{marginTop:"16px"},children:"Try Again"})]}):i.length===0?e.jsx("div",{style:{gridColumn:"span 3",textAlign:"center",padding:"100px 0"},children:e.jsx("p",{children:"No articles found."})}):i.map(m=>e.jsxs("article",{style:{background:"white",borderRadius:"20px",overflow:"hidden",boxShadow:"var(--shadow-sm)",border:"1px solid #f0f0f0",display:"flex",flexDirection:"column",transition:"all 0.3s ease",cursor:"pointer"},onClick:()=>u(m),onMouseOver:w=>w.currentTarget.style.transform="translateY(-10px)",onMouseOut:w=>w.currentTarget.style.transform="translateY(0)",children:[e.jsxs("div",{style:{height:"200px",overflow:"hidden",position:"relative"},children:[e.jsx("img",{src:m.image,alt:m.title,style:{width:"100%",height:"100%",objectFit:"cover"}}),e.jsx("div",{style:{position:"absolute",top:"16px",left:"16px",background:"rgba(255,255,255,0.95)",padding:"6px 12px",borderRadius:"99px",fontSize:"0.7rem",fontWeight:800,color:"var(--trust-blue)",boxShadow:"0 2px 4px rgba(0,0,0,0.1)"},children:m.category})]}),e.jsxs("div",{style:{padding:"24px",flex:1,display:"flex",flexDirection:"column"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px",fontSize:"0.75rem",color:"#888"},children:[e.jsx("span",{children:m.date}),e.jsx("span",{children:"•"}),e.jsxs("span",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[e.jsx(_e,{size:12})," ",h(m.content)]})]}),e.jsx("h3",{style:{fontSize:"1.3rem",marginBottom:"12px",lineHeight:"1.4",color:"var(--text-dark)"},children:m.title}),e.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.95rem",marginBottom:"24px",lineHeight:"1.6"},children:m.excerpt}),e.jsxs("div",{style:{marginTop:"auto",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontSize:"0.85rem",fontWeight:600,color:"#555"},children:[e.jsx("div",{style:{width:"28px",height:"28px",borderRadius:"50%",background:"var(--sky-blue)",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(be,{size:14,color:"var(--trust-blue)"})}),m.author]}),e.jsxs("button",{style:{background:"none",border:"none",color:"var(--trust-blue)",fontWeight:700,fontSize:"0.9rem",display:"flex",alignItems:"center",gap:"6px"},children:["Read Brief ",e.jsx(Q,{size:16})]})]})]})]},m.id))}),y&&e.jsx("div",{className:"modal-overlay",children:e.jsxs("div",{className:"modal-container",children:[e.jsx("button",{onClick:()=>u(null),className:"modal-close-btn",style:{position:"absolute",background:"white",border:"none",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",zIndex:10},children:e.jsx(te,{size:24,color:"var(--trust-blue)"})}),e.jsxs("div",{className:"modal-image-container",style:{height:"350px",overflow:"hidden",flexShrink:0,position:"relative"},children:[e.jsx("img",{src:y.image,alt:y.title,style:{width:"100%",height:"100%",objectFit:"cover"}}),e.jsx("div",{style:{position:"absolute",bottom:"0",left:"0",right:"0",height:"150px",background:"linear-gradient(to top, white, transparent)"}})]}),e.jsxs("div",{className:"modal-scroll-container",children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"20px"},children:[e.jsx("span",{style:{padding:"6px 16px",background:"var(--sky-blue)",color:"var(--trust-blue)",borderRadius:"20px",fontSize:"0.85rem",fontWeight:800},children:y.category}),e.jsxs("span",{style:{fontSize:"0.9rem",color:"#888",fontWeight:600},children:[y.date," • ",h(y.content)]})]}),e.jsx("h2",{style:{fontSize:"clamp(1.8rem, 4vw, 2.8rem)",marginBottom:"24px",color:"var(--trust-blue)",lineHeight:1.1,letterSpacing:"-1px"},children:y.title}),e.jsx("div",{style:{color:"#333",lineHeight:"1.8",fontSize:"1.15rem",maxWidth:"100%"},children:y.content?e.jsx("div",{style:{whiteSpace:"pre-line"},children:y.content.split(`

`).map((m,w)=>e.jsx("p",{style:{marginBottom:"20px"},children:m},w))}):e.jsx("p",{children:"Expert content for this article is being finalized. Please stay tuned for the full SunGate brief."})}),e.jsxs("div",{style:{marginTop:"50px",padding:"30px",background:"var(--bg-off-white)",borderRadius:"24px",display:"flex",alignItems:"center",gap:"20px",flexWrap:"wrap"},children:[e.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"50%",background:"white",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 10px rgba(0,0,0,0.05)"},children:e.jsx(be,{size:30,color:"var(--trust-blue)"})}),e.jsxs("div",{style:{flex:1,minWidth:"200px"},children:[e.jsx("div",{style:{fontWeight:800,fontSize:"1.1rem"},children:y.author}),e.jsx("div",{style:{fontSize:"0.9rem",color:"#777"},children:"SunGate Zambia Content Expert"})]}),e.jsxs("div",{className:"badge badge-verified",children:[e.jsx(J,{size:14})," Fact Checked"]})]}),e.jsxs("div",{style:{marginTop:"60px"},children:[e.jsx("h3",{style:{marginBottom:"24px",fontSize:"1.5rem",color:"var(--trust-blue)"},children:"You might also like..."}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px"},children:i.filter(m=>m.id!==y.id).slice(0,2).map(m=>e.jsxs("div",{onClick:()=>{var w;u(m),(w=document.querySelector(".article-scroll-container"))==null||w.scrollTo(0,0)},style:{cursor:"pointer",background:"#fcfcfc",borderRadius:"16px",overflow:"hidden",border:"1px solid #eee"},children:[e.jsx("div",{style:{height:"120px"},children:e.jsx("img",{src:m.image,style:{width:"100%",height:"100%",objectFit:"cover"}})}),e.jsx("div",{style:{padding:"16px"},children:e.jsx("h4",{style:{fontSize:"0.9rem",lineHeight:"1.4"},children:m.title})})]},m.id))})]})]})]})})]})})},Ke=({onClose:i,onAuthComplete:s,isFullPage:r=!1,isUpdatePassword:n=!1,initialRole:a="user"})=>{const[l,y]=c.useState(!n),[u,h]=c.useState(!1),[j,m]=c.useState(a),[w,o]=c.useState(""),[p,S]=c.useState(""),[I,K]=c.useState(""),[D,X]=c.useState(!1),[q,L]=c.useState({type:"",text:""}),Z=async U=>{U.preventDefault(),X(!0),L({type:"",text:""});try{if(n){const{error:d}=await b.auth.updateUser({password:p});if(d)throw d;L({type:"success",text:"Password updated successfully! Logging you in..."})}else if(u){const{error:d}=await b.auth.resetPasswordForEmail(w,{redirectTo:window.location.origin});if(d)throw d;L({type:"success",text:"Password reset link sent! Check your email."})}else if(l){const{error:d}=await b.auth.signInWithPassword({email:w,password:p});if(d)throw d;L({type:"success",text:"Welcome back! Redirecting..."})}else{const{error:d}=await b.auth.signUp({email:w,password:p,options:{data:{full_name:I,role:j},redirectTo:window.location.origin}});if(d)throw d;L({type:"success",text:"Account created! Please check your email for verification."})}s&&!u&&setTimeout(()=>s(),1500)}catch(d){L({type:"error",text:d.message})}finally{X(!1)}},ae=r?{minHeight:"100vh",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #FFF9C4 0%, #FFFFFF 100%)",padding:"20px"}:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.8)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,padding:"20px"},E={background:"white",width:"100%",maxWidth:"450px",borderRadius:"var(--radius-lg)",overflow:"hidden",boxShadow:"var(--shadow-lg)",position:"relative",border:r?"1px solid #eee":"none"};return e.jsx("div",{style:ae,children:e.jsxs("div",{style:E,children:[!r&&!n&&e.jsx("button",{onClick:i,style:{position:"absolute",top:"15px",right:"15px",background:"none",border:"none",color:"#888",cursor:"pointer"},children:e.jsx(te,{size:24})}),e.jsxs("div",{style:{padding:"40px"},children:[e.jsxs("div",{style:{textAlign:"center",marginBottom:"32px"},children:[e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:"24px",borderBottom:"1px solid #f0f0f0",paddingBottom:"20px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"8px"},children:[e.jsx(we,{size:32,color:"var(--sun-orange)",fill:"var(--sun-orange)"}),e.jsx("h1",{style:{fontSize:"1.8rem",fontWeight:"800",fontFamily:"var(--font-heading)",color:"var(--trust-blue)",margin:0},children:"SunGate"})]}),e.jsx("p",{style:{fontSize:"0.9rem",color:"#666",margin:0},children:"Empowering Zambia with Renewable Energy"})]}),e.jsx("h2",{style:{fontSize:"1.4rem",color:"var(--trust-blue)",marginBottom:"8px"},children:n?"Set New Password":u?"Reset Password":l?"Welcome Back":"Create Account"}),e.jsx("p",{style:{color:"var(--text-muted)",fontSize:"0.9rem"},children:n?"Enter your new password below":u?"Enter your email to receive a reset link":l?"Access your solar dashboard":"Join the SunGate Zambia network"})]}),!l&&!u&&!n&&e.jsxs("div",{style:{display:"flex",background:"#f0f0f0",borderRadius:"12px",padding:"4px",marginBottom:"24px"},children:[e.jsxs("button",{onClick:()=>m("user"),style:{flex:1,padding:"10px",borderRadius:"8px",border:"none",background:j==="user"?"white":"transparent",color:j==="user"?"var(--trust-blue)":"#666",fontWeight:700,fontSize:"0.85rem",cursor:"pointer",boxShadow:j==="user"?"0 2px 4px rgba(0,0,0,0.05)":"none"},children:[e.jsx(be,{size:14,style:{marginRight:"6px"}})," Customer"]}),e.jsxs("button",{onClick:()=>m("installer"),style:{flex:1,padding:"10px",borderRadius:"8px",border:"none",background:j==="installer"?"white":"transparent",color:j==="installer"?"var(--trust-blue)":"#666",fontWeight:700,fontSize:"0.85rem",cursor:"pointer",boxShadow:j==="installer"?"0 2px 4px rgba(0,0,0,0.05)":"none"},children:[e.jsx(Award,{size:14,style:{marginRight:"6px"}})," Installer"]}),e.jsxs("button",{onClick:()=>m("supplier"),style:{flex:1,padding:"10px",borderRadius:"8px",border:"none",background:j==="supplier"?"white":"transparent",color:j==="supplier"?"var(--trust-blue)":"#666",fontWeight:700,fontSize:"0.85rem",cursor:"pointer",boxShadow:j==="supplier"?"0 2px 4px rgba(0,0,0,0.05)":"none"},children:[e.jsx(ut,{size:14,style:{marginRight:"6px"}})," Supplier"]})]}),e.jsxs("form",{onSubmit:Z,style:{display:"flex",flexDirection:"column",gap:"16px"},children:[!l&&!u&&!n&&e.jsxs("div",{style:{position:"relative"},children:[e.jsx(be,{style:{position:"absolute",left:"12px",top:"14px",color:"#888"},size:18}),e.jsx("input",{type:"text",placeholder:"Full Name",required:!0,value:I,onChange:U=>K(U.target.value),style:{width:"100%",padding:"12px 12px 12px 40px",borderRadius:"8px",border:"1px solid #ddd"}})]}),!n&&e.jsxs("div",{style:{position:"relative"},children:[e.jsx(Ee,{style:{position:"absolute",left:"12px",top:"14px",color:"#888"},size:18}),e.jsx("input",{type:"email",placeholder:"Email Address",required:!0,value:w,onChange:U=>o(U.target.value),style:{width:"100%",padding:"12px 12px 12px 40px",borderRadius:"8px",border:"1px solid #ddd"}})]}),!u&&e.jsxs("div",{style:{position:"relative"},children:[e.jsx(ht,{style:{position:"absolute",left:"12px",top:"14px",color:"#888"},size:18}),e.jsx("input",{type:"password",placeholder:n?"New Password":"Password",required:!0,value:p,onChange:U=>S(U.target.value),style:{width:"100%",padding:"12px 12px 12px 40px",borderRadius:"8px",border:"1px solid #ddd"}})]}),l&&!u&&!n&&e.jsx("div",{style:{textAlign:"right"},children:e.jsx("button",{type:"button",onClick:()=>{h(!0),L({type:"",text:""})},style:{background:"none",border:"none",color:"var(--trust-blue)",fontSize:"0.85rem",cursor:"pointer",textDecoration:"underline"},children:"Forgot Password?"})}),q.text&&e.jsx("div",{style:{padding:"12px",borderRadius:"8px",fontSize:"0.85rem",background:q.type==="error"?"#fff0f0":"#f0fff4",color:q.type==="error"?"#d32f2f":"#2e7d32",border:`1px solid ${q.type==="error"?"#ffcdd2":"#c8e6c9"}`},children:q.text}),e.jsx("button",{disabled:D,className:"btn btn-primary",style:{padding:"14px",marginTop:"8px"},children:D?e.jsx("div",{className:"spinner",style:{width:"20px",height:"20px"}}):e.jsxs("span",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:[n?"Update Password":u?"Send Reset Link":l?"Login Now":"Create Account"," ",e.jsx(Q,{size:18})]})})]}),e.jsx("div",{style:{textAlign:"center",marginTop:"24px",fontSize:"0.9rem",color:"#666"},children:n?null:u?e.jsx("button",{onClick:()=>{h(!1),y(!0),L({type:"",text:""})},style:{background:"none",border:"none",color:"var(--trust-blue)",fontWeight:700,cursor:"pointer"},children:"Back to Log In"}):e.jsxs(e.Fragment,{children:[l?"Don't have an account?":"Already have an account?",e.jsx("button",{onClick:()=>y(!l),style:{background:"none",border:"none",color:"var(--trust-blue)",fontWeight:700,cursor:"pointer",marginLeft:"6px"},children:l?"Sign Up":"Log In"})]})}),"                "]}),e.jsxs("div",{style:{background:"#f8f9fa",padding:"16px",textAlign:"center",fontSize:"0.75rem",color:"#888",borderTop:"1px solid #eee"},children:[e.jsx(J,{size:12,style:{marginRight:"4px"}}),"Securely encrypted with Supabase Auth"]})]})})},Ft=({isOpen:i,onClose:s,items:r,onRemove:n,onNotify:a,onQuoteRequest:l})=>{const y=r.reduce((u,h)=>{const j=parseInt(h.price.toString().replace(/[^0-9]/g,""));return u+j},0);return i?e.jsxs("div",{style:{position:"fixed",top:0,right:0,bottom:0,left:0,zIndex:3e3,display:"flex",justifyContent:"flex-end",background:"rgba(0,0,0,0.5)",backdropFilter:"blur(4px)"},children:[e.jsxs("div",{onClick:u=>u.stopPropagation(),style:{width:"100%",maxWidth:"400px",background:"white",height:"100%",display:"flex",flexDirection:"column",animation:"slideRight 0.3s ease-out"},children:[e.jsxs("div",{style:{padding:"24px",borderBottom:"1px solid #eee",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsx(He,{size:24,color:"var(--trust-blue)"}),e.jsx("h2",{style:{fontSize:"1.25rem",color:"var(--trust-blue)"},children:"My Solar Cart"}),e.jsx("span",{style:{background:"var(--sun-orange)",color:"white",padding:"2px 8px",borderRadius:"99px",fontSize:"0.75rem",fontWeight:700},children:r.length})]}),e.jsx("button",{onClick:s,style:{background:"none",border:"none",color:"#888",cursor:"pointer"},children:e.jsx(te,{size:24})})]}),e.jsx("div",{style:{flex:1,overflowY:"auto",padding:"24px"},children:r.length===0?e.jsxs("div",{style:{textAlign:"center",marginTop:"100px",color:"#888"},children:[e.jsx(He,{size:64,style:{opacity:.2,marginBottom:"20px"}}),e.jsx("p",{children:"Your cart is empty."}),e.jsx("button",{onClick:s,className:"btn btn-secondary",style:{marginTop:"20px"},children:"Browse Marketplace"})]}):e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:r.map((u,h)=>e.jsxs("div",{style:{display:"flex",gap:"16px",borderBottom:"1px solid #f5f5f5",paddingBottom:"20px"},children:[e.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"8px",background:"#f5f5f5",overflow:"hidden"},children:e.jsx("img",{src:u.image,alt:u.name,style:{width:"100%",height:"100%",objectFit:"cover"}})}),e.jsxs("div",{style:{flex:1},children:[e.jsx("h4",{style:{fontSize:"0.95rem",marginBottom:"4px"},children:u.name}),e.jsx("div",{style:{fontSize:"1rem",fontWeight:700,color:"var(--trust-blue)"},children:u.price}),e.jsxs("button",{onClick:()=>n(h),style:{marginTop:"8px",background:"none",border:"none",color:"#ff4d4d",fontSize:"0.8rem",display:"flex",alignItems:"center",gap:"4px",cursor:"pointer",padding:0},children:[e.jsx(xe,{size:14})," Remove"]})]})]},`${u.id}-${h}`))})}),r.length>0&&e.jsxs("div",{style:{padding:"24px",background:"#f8f9fa",borderTop:"1px solid #eee"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"20px",fontSize:"1.1rem"},children:[e.jsx("span",{style:{fontWeight:600},children:"Estimated Total"}),e.jsxs("span",{style:{fontWeight:800,color:"var(--trust-blue)"},children:["K",y.toLocaleString()]})]}),e.jsxs("button",{onClick:()=>l(r),className:"btn btn-primary",style:{width:"100%",padding:"16px",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:["Request Official Quote ",e.jsx(Q,{size:18})]}),e.jsx("p",{style:{textAlign:"center",fontSize:"0.75rem",color:"#888",marginTop:"12px"},children:"Prices include VAT and duty exemptions where applicable."})]})]}),e.jsx("style",{children:`
                @keyframes slideRight {
                    from { transform: translateX(100%); }
                    to { transform: translateX(0); }
                }
            `})]}):null},qt=({profile:i})=>{const[s,r]=c.useState("installers"),[n,a]=c.useState([]),[l,y]=c.useState([]),[u,h]=c.useState([]),[j,m]=c.useState([]),[w,o]=c.useState([]),[p,S]=c.useState([]),[I,K]=c.useState(null),[D,X]=c.useState(!1),[q,L]=c.useState(null),[Z,ae]=c.useState(!1),[E,U]=c.useState(null),[d,k]=c.useState({}),[oe,se]=c.useState(null),[me,de]=c.useState(0),[re,ue]=c.useState(null),[he,Y]=c.useState(null),[x,R]=c.useState(null),[H,_]=c.useState(null);c.useEffect(()=>{ge()},[s]);const ge=async()=>{X(!0),L(null);try{if(s==="installers"){const{data:t,error:g}=await b.from("installers").select("*").order("id");if(g)throw g;a(t||[])}else if(s==="articles"){const{data:t,error:g}=await b.from("articles").select("*").order("created_at",{ascending:!1});if(g)throw g;y(t||[])}else if(s==="suppliers"){const{data:t,error:g}=await b.from("suppliers").select("*").order("created_at",{ascending:!1});if(g)throw g;h(t||[])}else if(s==="products"){const{data:t,error:g}=await b.from("products").select("*").order("created_at",{ascending:!1});if(console.log("Products fetch:",{data:t,error:g}),g)throw g;m(t||[])}else if(s==="users"){const{data:t,error:g}=await b.from("profiles").select("*").order("created_at",{ascending:!1});if(g||(o(t||[]),g))throw g;o(t||[])}else if(s==="inquiries"){const{data:t,error:g}=await b.from("inquiries").select("*, products(name, price), buyer:profiles!inquiries_buyer_id_fkey(full_name, email)").order("created_at",{ascending:!1});if(g)throw g;S(t||[])}else if(s==="analytics"){const t=[b.from("profiles").select("id",{count:"exact",head:!0}),b.from("installers").select("id",{count:"exact",head:!0}),b.from("inquiries").select("id",{count:"exact",head:!0}).eq("status","pending"),b.from("inquiries").select("quote_price").eq("status","completed")],[g,A,O,M]=await Promise.all(t);if(g.error)throw g.error;if(A.error)throw A.error;if(O.error)throw O.error;if(M.error)throw M.error;const N=M.data.reduce((F,B)=>F+(B.quote_price||0),0);K({totalUsers:g.count||0,activeInstallers:A.count||0,totalSales:N>0?`K${N.toLocaleString()}`:"K0",pendingOrders:O.count||0})}}catch(t){console.error("Error fetching data:",t),L(t.message)}finally{X(!1)}},G=async()=>{try{X(!0);let t="";if(s==="installers")t="installers";else if(s==="articles")t="articles";else if(s==="suppliers")t="suppliers";else if(s==="products")t="products";else if(s==="inquiries")t="inquiries";else return;let g=d.quote_pdf_url||null;if(s==="inquiries"&&oe&&E)try{de(25);const A=oe.name.split(".").pop(),O=Date.now(),M=`${E.id}/${O}.${A}`;de(50);const{error:N,data:F}=await b.storage.from("quotes").upload(M,oe);if(N)throw new Error(`PDF Upload failed: ${N.message}`);de(75);const{data:{publicUrl:B}}=b.storage.from("quotes").getPublicUrl(M);g=B,de(100)}catch(A){alert("PDF Upload Error: "+A.message+". Continuing without PDF."),console.error("PDF upload failed:",A)}if(E){const{id:A,created_at:O,products:M,profiles:N,buyer:F,...B}=d;if(g&&(B.quote_pdf_url=g),s==="products"&&re)try{const W=re.name.split(".").pop(),V=`admin/${`${Math.random().toString(36).substring(2)}-${Date.now()}.${W}`}`,{error:le}=await b.storage.from("Product").upload(V,re);if(le)throw new Error(`Image upload failed: ${le.message}`);const{data:{publicUrl:f}}=b.storage.from("Product").getPublicUrl(V);B.image=f}catch(W){alert("Image Upload Error: "+W.message),console.error("Image upload failed:",W)}if(s==="inquiries"&&B.quote_price){const W=B.quote_price.toString().replace(/[K,\s]/g,"");B.quote_price=W?parseFloat(W):null}if(s==="articles"&&x)try{const W=x.name.split(".").pop(),V=`articles/${`${Math.random().toString(36).substring(2)}-${Date.now()}.${W}`}`,{error:le}=await b.storage.from("Product").upload(V,x);if(le)throw new Error(`Image upload failed: ${le.message}`);const{data:{publicUrl:f}}=b.storage.from("Product").getPublicUrl(V);B.image=f}catch(W){alert("Image Upload Error: "+W.message),console.error("Image upload failed:",W)}const{error:z}=await b.from(t).update(B).eq("id",E.id);if(z)throw z}else{let A=d.image||"";if(s==="products"&&re)try{const N=re.name.split(".").pop(),B=`admin/${`${Math.random().toString(36).substring(2)}-${Date.now()}.${N}`}`,{error:z}=await b.storage.from("Product").upload(B,re);if(z)throw new Error(`Image upload failed: ${z.message}`);const{data:{publicUrl:W}}=b.storage.from("Product").getPublicUrl(B);A=W}catch(N){alert("Image Upload Error: "+N.message+". Please enter image URL manually."),console.error("Image upload failed:",N)}if(s==="articles"&&x)try{const N=x.name.split(".").pop(),B=`articles/${`${Math.random().toString(36).substring(2)}-${Date.now()}.${N}`}`,{error:z}=await b.storage.from("Product").upload(B,x);if(z)throw new Error(`Image upload failed: ${z.message}`);const{data:{publicUrl:W}}=b.storage.from("Product").getPublicUrl(B);A=W}catch(N){alert("Image Upload Error: "+N.message+". Please enter image URL manually."),console.error("Image upload failed:",N)}const O=s==="products"||s==="articles"?{...d,image:A}:d,{error:M}=await b.from(t).insert([O]);if(M)throw M}ae(!1),U(null),k({}),se(null),ue(null),Y(null),R(null),_(null),de(0),ge(),alert("Saved successfully!")}catch(t){console.error("Error saving:",t),alert("Error saving data: "+t.message)}finally{X(!1)}},Ae=t=>{const g=t.target.files[0];if(g&&g.type.startsWith("image/")){if(g.size>5*1024*1024){alert("Image too large. Maximum size is 5MB.");return}ue(g),Y(URL.createObjectURL(g))}else alert("Please select an image file.")},Te=t=>{const g=t.target.files[0];if(g&&g.type.startsWith("image/")){if(g.size>5*1024*1024){alert("Image too large. Maximum size is 5MB.");return}R(g),_(URL.createObjectURL(g))}else alert("Please select an image file.")},je=async t=>{if(confirm("Are you sure you want to delete this item?"))try{let g="";if(s==="installers")g="installers";else if(s==="articles")g="articles";else if(s==="suppliers")g="suppliers";else if(s==="products")g="products";else return;const{error:A}=await b.from(g).delete().eq("id",t);if(A)throw A;ge()}catch(g){alert("Error deleting: "+g.message)}},ie=(t=null)=>{if(t)U(t),k(t),Y(t.image||null),_(t.image||null);else{U(null);const g={};s==="articles"&&(g.date=new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})),k(g),Y(null),_(null)}ae(!0)};return e.jsx("section",{style:{padding:"60px 0",background:"#f8f9fa",minHeight:"80vh"},children:e.jsxs("div",{className:"container",children:[e.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"30px"},children:e.jsxs("div",{children:[e.jsx("div",{className:"badge badge-verified",style:{marginBottom:"10px"},children:"System Admin"}),e.jsx("h2",{children:"Admin Control Panel"})]})}),e.jsxs("div",{style:{display:"flex",gap:"20px",marginBottom:"30px",borderBottom:"1px solid #ddd",paddingBottom:"10px"},children:[e.jsx("button",{onClick:()=>r("installers"),style:{background:"none",border:"none",padding:"10px 0",borderBottom:s==="installers"?"3px solid var(--sun-orange)":"none",fontWeight:s==="installers"?700:400,color:s==="installers"?"var(--trust-blue)":"#666"},children:"Manage Installers"}),e.jsx("button",{onClick:()=>r("articles"),style:{background:"none",border:"none",padding:"10px 0",borderBottom:s==="articles"?"3px solid var(--sun-orange)":"none",fontWeight:s==="articles"?700:400,color:s==="articles"?"var(--trust-blue)":"#666"},children:"Manage Articles"}),e.jsx("button",{onClick:()=>r("suppliers"),style:{background:"none",border:"none",padding:"10px 0",borderBottom:s==="suppliers"?"3px solid var(--sun-orange)":"none",fontWeight:s==="suppliers"?700:400,color:s==="suppliers"?"var(--trust-blue)":"#666"},children:"Manage Suppliers"}),e.jsx("button",{onClick:()=>r("products"),style:{background:"none",border:"none",padding:"10px 0",borderBottom:s==="products"?"3px solid var(--sun-orange)":"none",fontWeight:s==="products"?700:400,color:s==="products"?"var(--trust-blue)":"#666"},children:"Marketplace (Products)"}),e.jsx("button",{onClick:()=>r("users"),style:{background:"none",border:"none",padding:"10px 0",borderBottom:s==="users"?"3px solid var(--sun-orange)":"none",fontWeight:s==="users"?700:400,color:s==="users"?"var(--trust-blue)":"#666"},children:"Manage Users"}),e.jsx("button",{onClick:()=>r("inquiries"),style:{background:"none",border:"none",padding:"10px 0",borderBottom:s==="inquiries"?"3px solid var(--sun-orange)":"none",fontWeight:s==="inquiries"?700:400,color:s==="inquiries"?"var(--trust-blue)":"#666"},children:"Quote Requests"}),e.jsx("button",{onClick:()=>r("analytics"),style:{background:"none",border:"none",padding:"10px 0",borderBottom:s==="analytics"?"3px solid var(--sun-orange)":"none",fontWeight:s==="analytics"?700:400,color:s==="analytics"?"var(--trust-blue)":"#666"},children:"Analytics"})]}),q&&e.jsxs("div",{style:{padding:"20px",background:"#ffebee",border:"1px solid #ffcdd2",color:"red",borderRadius:"8px",marginBottom:"20px"},children:[e.jsxs("div",{style:{fontWeight:800,marginBottom:"8px"},children:["DATABASE ERROR (Tab: ",s,")"]}),e.jsx("div",{style:{fontContent:"monospace",fontSize:"0.9rem",background:"rgba(255,255,255,0.5)",padding:"10px",borderRadius:"4px"},children:typeof q=="object"?JSON.stringify(q,null,2):q}),e.jsx("div",{style:{marginTop:"10px",fontSize:"0.8rem"},children:'If you see "policy violation", please ask the developer to run the database migration scripts.'})]}),D&&e.jsx("div",{className:"spinner"}),!D&&s==="installers"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"20px"},children:e.jsxs("button",{className:"btn btn-primary",onClick:()=>ie(),children:[e.jsx(ke,{size:18})," Add Installer"]})}),e.jsx("div",{className:"grid grid-3",children:n.map(t=>e.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"12px",boxShadow:"var(--shadow-sm)"},children:[e.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"8px"},children:t.name}),e.jsx("p",{style:{color:"#666",fontSize:"0.9rem",marginBottom:"16px"},children:t.location}),e.jsxs("div",{style:{display:"flex",gap:"10px"},children:[e.jsx("button",{onClick:()=>ie(t),style:{padding:"8px",borderRadius:"6px",border:"1px solid #ddd",background:"white"},children:e.jsx(Ie,{size:16})}),e.jsx("button",{onClick:()=>je(t.id),style:{padding:"8px",borderRadius:"6px",border:"1px solid #fee",background:"#ffebee",color:"red"},children:e.jsx(xe,{size:16})})]})]},t.id))})]}),!D&&s==="articles"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"20px"},children:e.jsxs("button",{className:"btn btn-primary",onClick:()=>ie(),children:[e.jsx(ke,{size:18})," New Article"]})}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:l.map(t=>e.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"12px",boxShadow:"var(--shadow-sm)",display:"flex",gap:"20px",alignItems:"center"},children:[e.jsx("img",{src:t.image,style:{width:"80px",height:"80px",borderRadius:"8px",objectFit:"cover"}}),e.jsxs("div",{style:{flex:1},children:[e.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"4px"},children:t.title}),e.jsxs("p",{style:{color:"#888",fontSize:"0.8rem"},children:[t.category," • ",t.author]})]}),e.jsxs("div",{style:{display:"flex",gap:"10px"},children:[e.jsx("button",{onClick:()=>ie(t),style:{padding:"8px",borderRadius:"6px",border:"1px solid #ddd",background:"white"},children:e.jsx(Ie,{size:16})}),e.jsx("button",{onClick:()=>je(t.id),style:{padding:"8px",borderRadius:"6px",border:"1px solid #fee",background:"#ffebee",color:"red"},children:e.jsx(xe,{size:16})})]})]},t.id))})]}),!D&&s==="suppliers"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"20px"},children:e.jsxs("button",{className:"btn btn-primary",onClick:()=>ie(),children:[e.jsx(ke,{size:18})," Add Supplier"]})}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:u.map(t=>e.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"12px",boxShadow:"var(--shadow-sm)",display:"flex",gap:"20px",alignItems:"center"},children:[e.jsx(J,{size:32,color:t.is_verified?"var(--trust-blue)":"#ccc"}),e.jsxs("div",{style:{flex:1},children:[e.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"4px"},children:t.company_name}),e.jsxs("p",{style:{color:"#888",fontSize:"0.8rem"},children:["TPIN: ",t.zra_tpin," • Phone: ",t.phone]})]}),e.jsxs("div",{style:{display:"flex",gap:"10px"},children:[e.jsx("button",{onClick:()=>ie(t),style:{padding:"8px",borderRadius:"6px",border:"1px solid #ddd",background:"white"},children:e.jsx(Ie,{size:16})}),e.jsx("button",{onClick:()=>je(t.id),style:{padding:"8px",borderRadius:"6px",border:"1px solid #fee",background:"#ffebee",color:"red"},children:e.jsx(xe,{size:16})})]})]},t.id))})]}),!D&&s==="products"&&e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{display:"flex",justifyContent:"flex-end",marginBottom:"20px"},children:e.jsxs("button",{className:"btn btn-primary",onClick:()=>ie(),children:[e.jsx(ke,{size:18})," Add Product"]})}),e.jsx("div",{className:"grid grid-3",children:j.map(t=>e.jsxs("div",{style:{background:"white",padding:"15px",borderRadius:"12px",boxShadow:"var(--shadow-sm)"},children:[e.jsx("img",{src:t.image||"https://via.placeholder.com/150",alt:t.name,style:{width:"100%",height:"150px",objectFit:"cover",borderRadius:"8px",marginBottom:"12px"}}),e.jsx("h3",{style:{fontSize:"1.1rem",marginBottom:"4px"},children:t.name}),e.jsx("p",{style:{fontWeight:"bold",color:"var(--sun-orange)",marginBottom:"4px"},children:t.price}),e.jsx("p",{style:{color:"#888",fontSize:"0.8rem",marginBottom:"12px"},children:t.category}),e.jsxs("div",{style:{display:"flex",gap:"10px",justifyContent:"space-between"},children:[e.jsx("span",{style:{fontSize:"0.8rem",padding:"4px 8px",borderRadius:"4px",background:t.verified?"#e8f5e9":"#fafafa",color:t.verified?"green":"#999"},children:t.verified?"Verified":"Unverified"}),e.jsxs("div",{style:{display:"flex",gap:"8px"},children:[e.jsx("button",{onClick:()=>ie(t),style:{padding:"6px",borderRadius:"6px",border:"1px solid #ddd",background:"white"},children:e.jsx(Ie,{size:14})}),e.jsx("button",{onClick:()=>je(t.id),style:{padding:"6px",borderRadius:"6px",border:"1px solid #fee",background:"#ffebee",color:"red"},children:e.jsx(xe,{size:14})})]})]})]},t.id))})]}),!D&&s==="inquiries"&&e.jsx(e.Fragment,{children:e.jsx("div",{className:"grid grid-2",children:p.map(t=>{var O,M,N;const A=(F=>{if(!F||!F.includes("QTY:"))return{qty:"1",notes:F};const B=F.split("|").reduce((z,W)=>{const[ce,V]=W.split(":").map(le=>le.trim());return ce&&V&&(z[ce]=V),z},{});return{qty:B.QTY||"1",notes:B.NOTES||""}})(t.message);return e.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"12px",boxShadow:"var(--shadow-sm)",borderLeft:`4px solid ${t.status==="pending"?"orange":"green"}`},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"12px"},children:[e.jsx("h3",{style:{fontSize:"1.1rem"},children:((O=t.products)==null?void 0:O.name)||"Unknown Product"}),e.jsx("span",{className:`badge ${t.status==="pending"?"":"badge-verified"}`,children:t.status.toUpperCase()})]}),e.jsxs("div",{style:{fontSize:"0.9rem",color:"#666",marginBottom:"16px"},children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Customer:"})," ",((M=t.buyer)==null?void 0:M.full_name)||"Guest"," (",(N=t.buyer)==null?void 0:N.email,")"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Date:"})," ",new Date(t.created_at).toLocaleDateString()]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Qty:"})," ",A.qty," (Extracted)"]})]}),e.jsx("div",{style:{display:"flex",gap:"10px"},children:e.jsx("button",{onClick:()=>ie(t),className:"btn btn-primary",style:{padding:"8px 16px",fontSize:"0.8rem"},children:"Manage Quote"})})]},t.id)})})}),!D&&s==="users"&&e.jsx(e.Fragment,{children:e.jsx("div",{style:{background:"white",borderRadius:"12px",boxShadow:"var(--shadow-sm)",overflow:"hidden"},children:e.jsxs("table",{style:{width:"100%",borderCollapse:"collapse"},children:[e.jsx("thead",{style:{background:"#f8f9fa"},children:e.jsxs("tr",{children:[e.jsx("th",{style:{padding:"16px",textAlign:"left",fontWeight:"bold",color:"#444"},children:"User ID"}),e.jsx("th",{style:{padding:"16px",textAlign:"left",fontWeight:"bold",color:"#444"},children:"Role"}),e.jsx("th",{style:{padding:"16px",textAlign:"left",fontWeight:"bold",color:"#444"},children:"Created At"}),e.jsx("th",{style:{padding:"16px",textAlign:"right",fontWeight:"bold",color:"#444"},children:"Actions"})]})}),e.jsx("tbody",{children:w.map(t=>e.jsxs("tr",{style:{borderBottom:"1px solid #eee"},children:[e.jsx("td",{style:{padding:"16px",fontSize:"0.9rem",color:"#666"},children:t.id}),e.jsx("td",{style:{padding:"16px"},children:e.jsx("span",{style:{padding:"4px 8px",borderRadius:"4px",background:t.role==="admin"?"#e3f2fd":"#f5f5f5",color:t.role==="admin"?"#1976d2":"#666",fontSize:"0.8rem",fontWeight:500},children:t.role})}),e.jsx("td",{style:{padding:"16px",fontSize:"0.9rem",color:"#666"},children:new Date(t.created_at).toLocaleDateString()}),e.jsx("td",{style:{padding:"16px",textAlign:"right"},children:e.jsx("button",{style:{background:"none",border:"none",color:"#999",cursor:"not-allowed"},title:"Manage Users in Supabase Auth",children:"Manage"})})]},t.id))})]})})}),!D&&s==="analytics"&&I&&e.jsx(e.Fragment,{children:e.jsxs("div",{className:"grid grid-2",children:[e.jsxs("div",{style:{background:"white",padding:"24px",borderRadius:"12px",boxShadow:"var(--shadow-sm)",display:"flex",alignItems:"center",gap:"20px"},children:[e.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"50%",background:"#e3f2fd",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(Ce,{size:24,color:"#1976d2"})}),e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"2rem",marginBottom:"4px"},children:I.totalUsers}),e.jsx("p",{style:{color:"#666"},children:"Total Users"})]})]}),e.jsxs("div",{style:{background:"white",padding:"24px",borderRadius:"12px",boxShadow:"var(--shadow-sm)",display:"flex",alignItems:"center",gap:"20px"},children:[e.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"50%",background:"#fff3e0",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(J,{size:24,color:"var(--sun-orange)"})}),e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"2rem",marginBottom:"4px"},children:I.activeInstallers}),e.jsx("p",{style:{color:"#666"},children:"Active Installers"})]})]}),e.jsxs("div",{style:{background:"white",padding:"24px",borderRadius:"12px",boxShadow:"var(--shadow-sm)",display:"flex",alignItems:"center",gap:"20px"},children:[e.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"50%",background:"#e8f5e9",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(Ne,{size:24,color:"#2e7d32"})}),e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"2rem",marginBottom:"4px"},children:I.totalSales}),e.jsx("p",{style:{color:"#666"},children:"Total Sales (Est)"})]})]}),e.jsxs("div",{style:{background:"white",padding:"24px",borderRadius:"12px",boxShadow:"var(--shadow-sm)",display:"flex",alignItems:"center",gap:"20px"},children:[e.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"50%",background:"#fce4ec",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(Ce,{size:24,color:"#c2185b"})}),e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"2rem",marginBottom:"4px"},children:I.pendingOrders}),e.jsx("p",{style:{color:"#666"},children:"Pending Inquiries"})]})]})]})}),Z&&e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:2e3},children:e.jsxs("div",{style:{background:"white",padding:"30px",borderRadius:"16px",width:"90%",maxWidth:"600px",maxHeight:"90vh",overflowY:"auto"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"24px"},children:[e.jsxs("h3",{children:[E?"Edit":"Add"," ",s.slice(0,-1)]}),e.jsx("button",{onClick:()=>ae(!1),style:{background:"none",border:"none"},children:e.jsx(te,{})})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[s==="installers"?e.jsxs(e.Fragment,{children:[e.jsx("input",{className:"input-field",placeholder:"Installer Name",value:d.name||"",onChange:t=>k({...d,name:t.target.value}),style:P}),e.jsx("input",{className:"input-field",placeholder:"Location",value:d.location||"",onChange:t=>k({...d,location:t.target.value}),style:P}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[e.jsx("input",{className:"input-field",type:"number",step:"0.1",placeholder:"Rating (0-5)",value:d.rating||"",onChange:t=>k({...d,rating:parseFloat(t.target.value)}),style:P}),e.jsx("input",{className:"input-field",type:"number",placeholder:"Projects Completed",value:d.projects||"",onChange:t=>k({...d,projects:parseInt(t.target.value)}),style:P})]}),e.jsx("input",{className:"input-field",placeholder:"Image URL (Logo)",value:d.logo||"",onChange:t=>k({...d,logo:t.target.value}),style:P}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("input",{type:"checkbox",checked:d.certified||!1,onChange:t=>k({...d,certified:t.target.checked}),id:"cert"}),e.jsx("label",{htmlFor:"cert",children:"Certified Installer"})]}),e.jsx("textarea",{className:"input-field",placeholder:"Services (comma separated)",value:d.services?Array.isArray(d.services)?d.services.join(", "):d.services:"",onChange:t=>k({...d,services:t.target.value.split(",").map(g=>g.trim())}),style:{...P,height:"80px"}})]}):s==="articles"?e.jsxs(e.Fragment,{children:[e.jsx("input",{className:"input-field",placeholder:"Article Title",value:d.title||"",onChange:t=>k({...d,title:t.target.value}),style:P}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[e.jsx("input",{className:"input-field",placeholder:"Category",value:d.category||"",onChange:t=>k({...d,category:t.target.value}),style:P}),e.jsx("input",{className:"input-field",placeholder:"Date (e.g. Jan 30, 2026)",value:d.date||new Date().toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),onChange:t=>k({...d,date:t.target.value}),style:P})]}),e.jsx("input",{className:"input-field",placeholder:"Author",value:d.author||"",onChange:t=>k({...d,author:t.target.value}),style:P}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontSize:"0.9rem",fontWeight:600,marginBottom:"8px",color:"#555"},children:"Article Image"}),e.jsxs("div",{style:{border:"2px dashed #ddd",borderRadius:"12px",padding:"20px",textAlign:"center",cursor:"pointer",position:"relative",background:H?"#f8f9fa":"white",marginBottom:"12px"},children:[H?e.jsxs("div",{style:{position:"relative",width:"100%",height:"160px"},children:[e.jsx("img",{src:H,alt:"Preview",style:{width:"100%",height:"100%",objectFit:"contain",borderRadius:"8px"}}),e.jsx("button",{type:"button",onClick:t=>{t.stopPropagation(),R(null),_(null),k({...d,image:""})},style:{position:"absolute",top:"-10px",right:"-10px",background:"#ff4d4d",color:"white",border:"none",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:e.jsx(te,{size:14})})]}):e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"8px"},children:[e.jsx("div",{style:{fontSize:"2rem"},children:"📷"}),e.jsx("div",{style:{fontSize:"0.9rem",color:"#666"},children:"Click to upload article image"}),e.jsx("div",{style:{fontSize:"0.75rem",color:"#999"},children:"PNG, JPG or WebP (Max 5MB)"})]}),e.jsx("input",{type:"file",accept:"image/*",onChange:Te,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0,cursor:"pointer"}})]}),e.jsx("input",{className:"input-field",placeholder:"Or paste Image URL",value:d.image||"",onChange:t=>{k({...d,image:t.target.value}),t.target.value&&!x&&_(t.target.value)},style:P})]}),e.jsx("textarea",{className:"input-field",placeholder:"Excerpt (Short summary)",value:d.excerpt||"",onChange:t=>k({...d,excerpt:t.target.value}),style:{...P,height:"80px"}}),e.jsx("textarea",{className:"input-field",placeholder:"Full Content",value:d.content||"",onChange:t=>k({...d,content:t.target.value}),style:{...P,height:"200px"}})]}):s==="suppliers"?e.jsxs(e.Fragment,{children:[e.jsx("input",{className:"input-field",placeholder:"Company Name",value:d.company_name||"",onChange:t=>k({...d,company_name:t.target.value}),style:P}),e.jsx("input",{className:"input-field",placeholder:"ZRA TPIN",value:d.zra_tpin||"",onChange:t=>k({...d,zra_tpin:t.target.value}),style:P}),e.jsx("input",{className:"input-field",placeholder:"Phone",value:d.phone||"",onChange:t=>k({...d,phone:t.target.value}),style:P}),e.jsx("textarea",{className:"input-field",placeholder:"Address",value:d.address||"",onChange:t=>k({...d,address:t.target.value}),style:{...P,height:"80px"}}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginTop:"10px"},children:[e.jsx("input",{type:"checkbox",checked:d.is_verified||!1,onChange:t=>k({...d,is_verified:t.target.checked}),id:"verify"}),e.jsx("label",{htmlFor:"verify",children:"Verified Supplier"})]})]}):s==="inquiries"?e.jsxs(e.Fragment,{children:[(()=>{var A,O,M;const g=(N=>{if(!N||!N.includes("QTY:"))return{qty:"1",notes:N,phone:"N/A"};const F=N.split("|").reduce((B,z)=>{const[W,ce]=z.split(":").map(V=>V.trim());return W&&ce&&(B[W]=ce),B},{});return{qty:F.QTY||"1",notes:F.NOTES||"",phone:F.PHONE||"N/A"}})(d.message);return e.jsxs("div",{style:{background:"#f8f9fa",padding:"16px",borderRadius:"8px",marginBottom:"20px"},children:[e.jsx("h4",{style:{marginBottom:"8px",color:"#555"},children:"Customer Request"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Product:"})," ",((A=d.products)==null?void 0:A.name)||"N/A"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Quantity:"})," ",g.qty]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Notes:"})," ",g.notes]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Customer:"})," ",((O=d.buyer)==null?void 0:O.full_name)||"Anonymous"," (",((M=d.buyer)==null?void 0:M.email)||"No Email",")"]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Customer Phone:"})," ",g.phone]})]})})(),e.jsx("hr",{style:{border:"none",borderTop:"1px solid #eee",margin:"20px 0"}}),e.jsx("h4",{style:{marginBottom:"12px"},children:"Quote Status"}),e.jsxs("select",{value:d.status||"pending",onChange:t=>k({...d,status:t.target.value}),style:{...P,marginBottom:"20px"},children:[e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"quoted",children:"Quoted (Response Sent)"}),e.jsx("option",{value:"completed",children:"Completed"}),e.jsx("option",{value:"cancelled",children:"Cancelled"})]}),e.jsx("h4",{style:{marginBottom:"12px"},children:"Upload Quote Document (PDF)"}),e.jsxs("div",{style:{marginBottom:"20px"},children:[e.jsx("input",{type:"file",accept:".pdf",onChange:t=>{const g=t.target.files[0];if(g&&g.type==="application/pdf"){if(g.size>5*1024*1024){alert("File too large. Maximum size is 5MB.");return}se(g)}else alert("Please select a PDF file.")},style:{...P,padding:"8px"}}),oe&&e.jsxs("div",{style:{marginTop:"8px",fontSize:"0.85rem",color:"var(--zambia-green)"},children:["✓ Selected: ",oe.name," (",(oe.size/1024).toFixed(1)," KB)"]}),d.quote_pdf_url&&e.jsxs("div",{style:{marginTop:"8px",fontSize:"0.85rem",color:"#666"},children:["Current PDF: ",e.jsx("a",{href:d.quote_pdf_url,target:"_blank",rel:"noopener noreferrer",style:{color:"var(--trust-blue)"},children:"View"})]}),me>0&&me<100&&e.jsx("div",{style:{marginTop:"8px",background:"#eee",borderRadius:"4px",overflow:"hidden",height:"8px"},children:e.jsx("div",{style:{background:"var(--zambia-green)",height:"100%",width:`${me}%`,transition:"width 0.3s"}})})]}),e.jsx("h4",{style:{marginBottom:"12px"},children:"Admin Response"}),e.jsx("input",{className:"input-field",placeholder:"Quoted Price (e.g. K15,500)",value:d.quote_price||"",onChange:t=>k({...d,quote_price:t.target.value}),style:P}),e.jsx("textarea",{className:"input-field",placeholder:"Message to Customer",value:d.admin_response||"",onChange:t=>k({...d,admin_response:t.target.value}),style:{...P,height:"100px"}})]}):e.jsxs(e.Fragment,{children:[e.jsx("input",{className:"input-field",placeholder:"Product Name",value:d.name||"",onChange:t=>k({...d,name:t.target.value}),style:P}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[e.jsx("input",{className:"input-field",placeholder:"Price (e.g. K15,000)",value:d.price||"",onChange:t=>k({...d,price:t.target.value}),style:P}),e.jsx("input",{className:"input-field",placeholder:"Category",value:d.category||"",onChange:t=>k({...d,category:t.target.value}),style:P})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontSize:"0.9rem",fontWeight:600,marginBottom:"8px",color:"#555"},children:"Product Image"}),e.jsxs("div",{style:{border:"2px dashed #ddd",borderRadius:"12px",padding:"20px",textAlign:"center",cursor:"pointer",position:"relative",background:he?"#f8f9fa":"white",marginBottom:"12px"},children:[he?e.jsxs("div",{style:{position:"relative",width:"100%",height:"160px"},children:[e.jsx("img",{src:he,alt:"Preview",style:{width:"100%",height:"100%",objectFit:"contain",borderRadius:"8px"}}),e.jsx("button",{type:"button",onClick:t=>{t.stopPropagation(),ue(null),Y(null),k({...d,image:""})},style:{position:"absolute",top:"-10px",right:"-10px",background:"#ff4d4d",color:"white",border:"none",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:e.jsx(te,{size:14})})]}):e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"8px"},children:[e.jsx("div",{style:{fontSize:"2rem"},children:"📷"}),e.jsx("div",{style:{fontSize:"0.9rem",color:"#666"},children:"Click to upload product image"}),e.jsx("div",{style:{fontSize:"0.75rem",color:"#999"},children:"PNG, JPG or WebP (Max 5MB)"})]}),e.jsx("input",{type:"file",accept:"image/*",onChange:Ae,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0,cursor:"pointer"}})]}),e.jsx("input",{className:"input-field",placeholder:"Or paste Image URL",value:d.image||"",onChange:t=>{k({...d,image:t.target.value}),t.target.value&&!re&&Y(t.target.value)},style:P})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",marginTop:"10px"},children:[e.jsx("input",{type:"checkbox",checked:d.verified||!1,onChange:t=>k({...d,verified:t.target.checked}),id:"prod-ver"}),e.jsx("label",{htmlFor:"prod-ver",children:"Verified Product"})]})]}),e.jsx("button",{className:"btn btn-primary",onClick:G,style:{marginTop:"16px"},children:"Save Changes"})]})]})}),e.jsxs("div",{style:{marginTop:"40px",padding:"20px",borderTop:"1px solid #ddd",color:"#888",fontSize:"0.8rem"},children:[e.jsx("h4",{children:"Admin Debug Info"}),e.jsx("pre",{children:JSON.stringify({role:i==null?void 0:i.role,userId:i==null?void 0:i.id,activeTab:s,dataCount:s==="products"?j.length:s==="users"?w.length:"N/A",lastError:q},null,2)})]})]})})},P={width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #ddd",fontSize:"1rem"},Et=({isOpen:i,onClose:s,onSave:r,loading:n})=>{const[a,l]=c.useState({name:"",category:"Solar Panels",price:"",imageFile:null,previewUrl:null,specs:[{key:"",value:""}],duty_free:!0}),y=["Kits","Batteries","Inverters","Pumps","Solar Panels","Water Heaters"],u=o=>{const p=o.target.files[0];p&&l({...a,imageFile:p,previewUrl:URL.createObjectURL(p)})},h=(o,p,S)=>{const I=[...a.specs];I[o][p]=S,l({...a,specs:I})},j=()=>{l({...a,specs:[...a.specs,{key:"",value:""}]})},m=o=>{l({...a,specs:a.specs.filter((p,S)=>S!==o)})},w=o=>{if(o.preventDefault(),!a.imageFile){alert("Please upload a product image.");return}const p={};a.specs.forEach(S=>{S.key&&S.value&&(p[S.key]=S.value)}),r({...a,specs:p,price:a.price.startsWith("K")?a.price:`K${parseInt(a.price).toLocaleString()}`})};return i?e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.8)",backdropFilter:"blur(8px)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:3e3,padding:"20px"},children:e.jsxs("div",{style:{background:"white",width:"100%",maxWidth:"600px",borderRadius:"var(--radius-lg)",overflow:"hidden",boxShadow:"var(--shadow-lg)",position:"relative",maxHeight:"90vh",display:"flex",flexDirection:"column"},children:[e.jsxs("div",{style:{padding:"24px",borderBottom:"1px solid #eee",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsx("div",{style:{padding:"8px",background:"var(--sky-blue)",borderRadius:"8px"},children:e.jsx(gt,{color:"var(--trust-blue)",size:24})}),e.jsx("h2",{style:{fontSize:"1.25rem",color:"var(--trust-blue)"},children:"List New Product"})]}),e.jsx("button",{onClick:s,style:{background:"none",border:"none",color:"#888",cursor:"pointer"},children:e.jsx(te,{size:24})})]}),e.jsx("form",{onSubmit:w,style:{padding:"24px",overflowY:"auto",flex:1},children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontSize:"0.85rem",fontWeight:600,color:"#666",marginBottom:"8px"},children:"Product Name"}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx(mt,{style:{position:"absolute",left:"12px",top:"12px",color:"#aaa"},size:18}),e.jsx("input",{type:"text",required:!0,placeholder:"e.g. Jinko 550W Mono Facial",value:a.name,onChange:o=>l({...a,name:o.target.value}),style:{width:"100%",padding:"12px 12px 12px 40px",borderRadius:"8px",border:"1px solid #ddd"}})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontSize:"0.85rem",fontWeight:600,color:"#666",marginBottom:"8px"},children:"Category"}),e.jsx("select",{value:a.category,onChange:o=>l({...a,category:o.target.value}),style:{width:"100%",padding:"12px",borderRadius:"8px",border:"1px solid #ddd",background:"white"},children:y.map(o=>e.jsx("option",{value:o,children:o},o))})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontSize:"0.85rem",fontWeight:600,color:"#666",marginBottom:"8px"},children:"Price (Kwacha)"}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx("div",{style:{position:"absolute",left:"12px",top:"12px",color:"#aaa",fontWeight:700},children:"K"}),e.jsx("input",{type:"number",required:!0,placeholder:"5500",value:a.price,onChange:o=>l({...a,price:o.target.value}),style:{width:"100%",padding:"12px 12px 12px 30px",borderRadius:"8px",border:"1px solid #ddd"}})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontSize:"0.85rem",fontWeight:600,color:"#666",marginBottom:"8px"},children:"Product Image"}),e.jsxs("div",{style:{border:"2px dashed #ddd",borderRadius:"12px",padding:"20px",textAlign:"center",cursor:"pointer",position:"relative",background:a.previewUrl?"#f8f9fa":"white"},children:[a.previewUrl?e.jsxs("div",{style:{position:"relative",width:"100%",height:"160px"},children:[e.jsx("img",{src:a.previewUrl,alt:"Preview",style:{width:"100%",height:"100%",objectFit:"contain",borderRadius:"8px"}}),e.jsx("button",{type:"button",onClick:()=>l({...a,imageFile:null,previewUrl:null}),style:{position:"absolute",top:"-10px",right:"-10px",background:"#ff4d4d",color:"white",border:"none",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:e.jsx(te,{size:14})})]}):e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"8px"},children:[e.jsx(ft,{size:32,color:"#aaa"}),e.jsx("div",{style:{fontSize:"0.9rem",color:"#666"},children:"Click to upload product photo"}),e.jsx("div",{style:{fontSize:"0.75rem",color:"#999"},children:"PNG, JPG or WebP (Max 5MB)"})]}),e.jsx("input",{type:"file",accept:"image/*",onChange:u,style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",opacity:0,cursor:"pointer"}})]})]}),e.jsxs("div",{children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"12px"},children:[e.jsx("label",{style:{fontSize:"0.85rem",fontWeight:600,color:"#666"},children:"Specifications"}),e.jsxs("button",{type:"button",onClick:j,style:{background:"none",border:"none",color:"var(--trust-blue)",fontSize:"0.8rem",fontWeight:700,display:"flex",alignItems:"center",gap:"4px",cursor:"pointer"},children:[e.jsx(ke,{size:14})," Add Spec"]})]}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"8px"},children:a.specs.map((o,p)=>e.jsxs("div",{style:{display:"flex",gap:"8px",alignItems:"center"},children:[e.jsx("input",{type:"text",placeholder:"Key (e.g. Power)",value:o.key,onChange:S=>h(p,"key",S.target.value),style:{flex:1,padding:"8px 12px",borderRadius:"6px",border:"1px solid #ddd",fontSize:"0.9rem"}}),e.jsx("input",{type:"text",placeholder:"Value (e.g. 550W)",value:o.value,onChange:S=>h(p,"value",S.target.value),style:{flex:1,padding:"8px 12px",borderRadius:"6px",border:"1px solid #ddd",fontSize:"0.9rem"}}),e.jsx("button",{type:"button",onClick:()=>m(p),style:{background:"none",border:"none",color:"#ff4d4d",cursor:"pointer"},children:e.jsx(xe,{size:18})})]},p))})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",background:"#f8f9fa",padding:"12px",borderRadius:"8px"},children:[e.jsx("input",{type:"checkbox",id:"duty_free",checked:a.duty_free,onChange:o=>l({...a,duty_free:o.target.checked}),style:{width:"18px",height:"18px"}}),e.jsx("label",{htmlFor:"duty_free",style:{fontSize:"0.85rem",fontWeight:600,color:"var(--zambia-green)"},children:"This item qualifies for 0% Duty & VAT (SunGate Green Verified)"})]})]})}),e.jsxs("div",{style:{padding:"24px",borderTop:"1px solid #eee",background:"#fcfcfc",display:"flex",gap:"12px"},children:[e.jsx("button",{onClick:s,className:"btn btn-secondary",style:{flex:1},children:"Cancel"}),e.jsx("button",{onClick:w,disabled:n,className:"btn btn-primary",style:{flex:2,display:"flex",alignItems:"center",justifyContent:"center",gap:"8px"},children:n?e.jsx("div",{className:"spinner",style:{width:"20px",height:"20px"}}):e.jsxs(e.Fragment,{children:[e.jsx(yt,{size:18})," Save & List Product"]})})]})]})}):null},Lt=()=>e.jsxs("div",{className:"container",style:{padding:"40px 20px",maxWidth:"800px"},children:[e.jsxs("a",{href:"/",className:"btn",style:{marginBottom:"24px",paddingLeft:0,color:"var(--trust-blue)"},children:[e.jsx(Me,{size:18,style:{marginRight:"8px"}})," Back to Home"]}),e.jsx("h1",{style:{fontSize:"2.5rem",marginBottom:"24px",color:"var(--trust-blue)"},children:"Terms of Service"}),e.jsx("p",{style:{color:"#666",marginBottom:"40px"},children:"Last Updated: February 2026"}),e.jsxs("section",{style:{marginBottom:"40px"},children:[e.jsx("h2",{style:{fontSize:"1.5rem",marginBottom:"16px"},children:"1. Introduction"}),e.jsx("p",{children:"Welcome to SunGate Zambia. By accessing our website and using our services, you agree to be bound by these Terms of Service. SunGate acts as a marketplace connecting buyers with independent solar product suppliers and certified installers."})]}),e.jsxs("section",{style:{marginBottom:"40px"},children:[e.jsx("h2",{style:{fontSize:"1.5rem",marginBottom:"16px"},children:"2. Marketplace Usage"}),e.jsx("p",{children:"SunGate facilitates transactions but is not the direct seller of all goods. Suppliers are responsible for the quality and warranty of their products. Installers operate as independent contractors."}),e.jsxs("ul",{style:{marginLeft:"20px",marginTop:"16px",color:"#555"},children:[e.jsx("li",{children:"Users must provide accurate information for quotes."}),e.jsx("li",{children:"Payments are processed securely; however, direct offline payments are at your own risk."})]})]}),e.jsxs("section",{style:{marginBottom:"40px"},children:[e.jsx("h2",{style:{fontSize:"1.5rem",marginBottom:"16px"},children:"3. Installer Services"}),e.jsx("p",{children:"All installers listed on SunGate are verified for ERB certification at the time of onboarding. SunGate is not liable for damages caused during installation, though we will assist in dispute resolution."})]}),e.jsxs("section",{style:{marginBottom:"40px"},children:[e.jsx("h2",{style:{fontSize:"1.5rem",marginBottom:"16px"},children:"4. Returns & Refunds"}),e.jsx("p",{children:"Return policies vary by supplier. Generally, defective products can be returned within 7 days. Please check the specific policy of the supplier you are buying from."})]})]}),_t=()=>e.jsxs("div",{className:"container",style:{padding:"40px 20px",maxWidth:"800px"},children:[e.jsxs("a",{href:"/",className:"btn",style:{marginBottom:"24px",paddingLeft:0,color:"var(--trust-blue)"},children:[e.jsx(Me,{size:18,style:{marginRight:"8px"}})," Back to Home"]}),e.jsx("h1",{style:{fontSize:"2.5rem",marginBottom:"24px",color:"var(--trust-blue)"},children:"Privacy Policy"}),e.jsxs("section",{style:{marginBottom:"40px"},children:[e.jsx("h2",{style:{fontSize:"1.5rem",marginBottom:"16px"},children:"Data Collection"}),e.jsx("p",{children:"We collect information you provide directly to us, such as when you create an account, request a quote, or contact customer support. This includes name, email, phone number, and address."})]}),e.jsxs("section",{style:{marginBottom:"40px"},children:[e.jsx("h2",{style:{fontSize:"1.5rem",marginBottom:"16px"},children:"How We Use Your Data"}),e.jsx("p",{children:"We use your data to:"}),e.jsxs("ul",{style:{marginLeft:"20px",marginTop:"16px",color:"#555"},children:[e.jsx("li",{children:"Process orders and connect you with installers."}),e.jsx("li",{children:"Send quote updates and service notifications."}),e.jsx("li",{children:"Improve our rigorous vetting process."})]})]}),e.jsxs("section",{style:{marginBottom:"40px"},children:[e.jsx("h2",{style:{fontSize:"1.5rem",marginBottom:"16px"},children:"Contact Information"}),e.jsx("p",{children:"For privacy concerns, please contact our Data Protection Officer at privacy@sungate.co.zm or call 0974300472."})]})]}),Mt=()=>e.jsxs("div",{className:"container",style:{padding:"40px 20px",maxWidth:"800px"},children:[e.jsxs("a",{href:"/",className:"btn",style:{marginBottom:"24px",paddingLeft:0,color:"var(--trust-blue)"},children:[e.jsx(Me,{size:18,style:{marginRight:"8px"}})," Back to Home"]}),e.jsxs("div",{style:{textAlign:"center",marginBottom:"60px"},children:[e.jsx("h1",{style:{fontSize:"3rem",marginBottom:"16px",color:"var(--trust-blue)"},children:"How can we help?"}),e.jsxs("p",{style:{fontSize:"1.2rem",color:"#666"},children:["Browse topics or contact support at ",e.jsx("strong",{style:{color:"var(--sun-orange)"},children:"0974300472"})]})]}),e.jsxs("div",{className:"grid grid-2",style:{gap:"30px"},children:[e.jsxs("div",{style:{padding:"30px",background:"#f8f9fa",borderRadius:"16px",border:"1px solid #eee"},children:[e.jsx(J,{size:32,color:"var(--trust-blue)",style:{marginBottom:"16px"}}),e.jsx("h3",{style:{marginBottom:"12px"},children:"Installation & Warranty"}),e.jsxs("ul",{style:{listStyle:"none",padding:0},children:[e.jsx("li",{style:{padding:"8px 0",borderBottom:"1px solid #eee"},children:e.jsx("a",{href:"#",children:"Does SunGate provide a warranty?"})}),e.jsx("li",{style:{padding:"8px 0",borderBottom:"1px solid #eee"},children:e.jsx("a",{href:"#",children:"How do I verify an installer?"})}),e.jsx("li",{style:{padding:"8px 0"},children:e.jsx("a",{href:"#",children:"What if my system fails?"})})]})]}),e.jsxs("div",{style:{padding:"30px",background:"#f8f9fa",borderRadius:"16px",border:"1px solid #eee"},children:[e.jsx(ye,{size:32,color:"var(--sun-orange)",style:{marginBottom:"16px"}}),e.jsx("h3",{style:{marginBottom:"12px"},children:"Ordering & Deliveries"}),e.jsxs("ul",{style:{listStyle:"none",padding:0},children:[e.jsx("li",{style:{padding:"8px 0",borderBottom:"1px solid #eee"},children:e.jsx("a",{href:"#",children:"How long does delivery take?"})}),e.jsx("li",{style:{padding:"8px 0",borderBottom:"1px solid #eee"},children:e.jsx("a",{href:"#",children:"Payment methods accepted"})}),e.jsx("li",{style:{padding:"8px 0"},children:e.jsx("a",{href:"#",children:"Return policy"})})]})]})]}),e.jsxs("div",{style:{marginTop:"60px",padding:"40px",background:"var(--trust-blue)",borderRadius:"20px",color:"white",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"1.5rem",marginBottom:"8px"},children:"Still need help?"}),e.jsx("p",{style:{opacity:.9},children:"Our support team is available Mon-Sat, 8am - 6pm."})]}),e.jsxs("a",{href:"tel:0974300472",className:"btn",style:{background:"white",color:"var(--trust-blue)",display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx(Be,{size:20})," Call 0974300472"]})]})]}),Ut=({onDashboardClick:i})=>e.jsxs("section",{className:"animate-fade-in",style:{position:"relative",minHeight:"85vh",display:"flex",alignItems:"center",overflow:"hidden",background:"#0a0a0a",textAlign:"center"},children:[e.jsx("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,background:'linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.7)), url("https://images.unsplash.com/photo-1509391366360-2e959784a276?auto=format&fit=crop&q=80&w=1500")',backgroundSize:"cover",backgroundPosition:"center",zIndex:1}}),e.jsx("div",{className:"container",style:{position:"relative",zIndex:2,width:"100%"},children:e.jsxs("div",{className:"animate-slide-up",style:{maxWidth:"800px",margin:"0 auto"},children:[e.jsxs("div",{className:"badge badge-verified",style:{marginBottom:"24px",background:"rgba(255,255,255,0.2)",color:"white",border:"1px solid rgba(255,255,255,0.4)",display:"inline-flex",alignItems:"center"},children:[e.jsx(J,{size:16,style:{marginRight:"8px",color:"var(--sun-gold)"}}),"Zambia's Trusted Solar Marketplace"]}),e.jsxs("h1",{style:{fontSize:"clamp(3rem, 6vw, 4.5rem)",fontWeight:800,marginBottom:"24px",lineHeight:1.1,textShadow:"0 4px 20px rgba(0,0,0,0.3)",color:"white"},children:["Zambia's Trusted ",e.jsx("br",{}),e.jsx("span",{style:{color:"var(--sun-orange)"},children:"Solar Marketplace"})]}),e.jsx("p",{style:{fontSize:"1.25rem",color:"#f0f0f0",marginBottom:"48px",maxWidth:"700px",margin:"0 auto 48px",lineHeight:1.6},children:"Compare certified installers, calculate your savings, and find quality solar products—all in one place."}),e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"16px"},children:[e.jsxs("button",{onClick:i,className:"btn btn-primary",style:{padding:"16px 32px",fontSize:"1.1rem"},children:["Access Your Solar Dashboard",e.jsx(Q,{size:20,style:{marginLeft:"8px"}})]}),e.jsx("a",{href:"#how-it-works",className:"btn",style:{background:"white",color:"var(--trust-blue)",padding:"16px 32px",fontSize:"1.1rem",fontWeight:700},children:"See How It Works"})]})]})})]}),qe=({title:i,benefits:s,ctaText:r,onCtaClick:n,type:a})=>{const l=a==="business",y=a==="partner";return e.jsxs("div",{className:"hover-lift",style:{padding:"40px",borderRadius:"24px",background:l?"#f0f7ff":y?"#f0fff4":"white",border:"1px solid #eee",boxShadow:"var(--shadow-md)",display:"flex",flexDirection:"column",height:"100%"},children:[e.jsx("h3",{style:{fontSize:"1.8rem",marginBottom:"24px",color:"var(--trust-blue)"},children:i}),e.jsx("ul",{style:{listStyle:"none",padding:0,marginBottom:"32px",flex:1},children:s.map((u,h)=>e.jsxs("li",{style:{display:"flex",gap:"12px",marginBottom:"16px",color:"var(--text-muted)"},children:[e.jsx(Ne,{size:20,color:"var(--zambia-green)",style:{flexShrink:0}}),e.jsx("span",{children:u})]},h))}),e.jsxs("button",{onClick:n,className:`btn ${l?"btn-secondary":"btn-primary"}`,style:{width:"100%"},children:[r,e.jsx(Q,{size:18,style:{marginLeft:"8px"}})]})]})},Ht=({onAuthClick:i})=>e.jsx("section",{style:{padding:"100px 0",background:"#f8f9fa"},children:e.jsx("div",{className:"container",children:e.jsxs("div",{className:"grid grid-3",style:{gap:"32px"},children:[e.jsx(qe,{title:"Stop Load-Shedding. Start Saving.",benefits:["Compare quotes from 3+ certified installers","Calculate exact system size for your home","Know your tax savings (0% duty & VAT)","Track installation progress"],ctaText:"Get Started",onCtaClick:()=>i("user"),type:"homeowner"}),e.jsx(qe,{title:"Keep Your Business Running",benefits:["Commercial solar ROI calculator","Verified business installers","Financing options display","24/7 power during outages"],ctaText:"Business Solutions",onCtaClick:()=>i("user"),type:"business"}),e.jsx(qe,{title:"Grow Your Solar Business",benefits:["Get qualified customer leads","Showcase your work to thousands",'"SunGate Verified" trust badge',"Access to supplier network"],ctaText:"Join as Partner",onCtaClick:()=>i("installer"),type:"partner"})]})})}),Ot=({onCalcClick:i})=>{const s=[{icon:e.jsx(We,{size:40,color:"var(--trust-blue)"}),title:"1. Calculate",description:"Use our solar calculator (free, no login required for basic version)",color:"var(--sky-blue)"},{icon:e.jsx(Pe,{size:40,color:"#ff6f00"}),title:"2. Compare",description:"Get quotes from 3+ certified installers",color:"#fff8e1"},{icon:e.jsx(ne,{size:40,color:"#var(--zambia-green)"}),title:"3. Save",description:"Track installation and start saving",color:"#e8f5e9"}];return e.jsxs("section",{style:{padding:"80px 0",background:"white"},id:"how-it-works",children:[e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"text-center",style:{marginBottom:"60px"},children:[e.jsx("h2",{style:{fontSize:"2.5rem",color:"var(--trust-blue)",marginBottom:"16px"},children:"How SunGate Works"}),e.jsx("p",{style:{color:"var(--text-muted)",fontSize:"1.1rem"},children:"Get verified solar power in 3 simple steps"})]}),e.jsx("div",{className:"grid grid-3",children:s.map((r,n)=>e.jsxs("div",{style:{textAlign:"center",padding:"40px",background:r.color,borderRadius:"24px",transition:"transform 0.3s ease"},className:"how-it-works-card",children:[e.jsx("div",{style:{width:"80px",height:"80px",background:"white",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 24px",boxShadow:"var(--shadow-sm)"},children:r.icon}),e.jsx("h3",{style:{marginBottom:"16px",fontSize:"1.5rem"},children:r.title}),e.jsx("p",{style:{color:"var(--text-muted)",lineHeight:1.6},children:r.description})]},n))})]}),e.jsx("style",{children:`
        .how-it-works-card:hover {
          transform: translateY(-10px);
        }
      `})]})},et=({onAuthClick:i})=>{const[s,r]=c.useState(1),[n,a]=c.useState({location:"",bill:1500,appliances:[]}),[l,y]=c.useState(null),u=["Lusaka","Ndola","Livingstone","Kitwe","Copperbelt","Other"],h=[{id:"lights",label:"Lights + Charging",icon:e.jsx(ne,{size:18})},{id:"fridge",label:"Fridge + TV",icon:e.jsx(ne,{size:18})},{id:"borehole",label:"Borehole/Pump",icon:e.jsx(ne,{size:18})},{id:"business",label:"Business Gear",icon:e.jsx(ne,{size:18})}],j=o=>{a(p=>({...p,appliances:p.appliances.includes(o)?p.appliances.filter(S=>S!==o):[...p.appliances,o]}))},m=()=>{const o=n.bill/600,p=n.appliances.length*1.2,S=Math.max(2,Math.ceil(o+p)),I=S*8500,K=S*16e3,D=n.bill*.85;y({size:`${S}kW`,cost:`K${I.toLocaleString()} - K${K.toLocaleString()}`,savings:`K${D.toLocaleString()}`}),r(4)},w=()=>{r(1),a({location:"",bill:1500,appliances:[]}),y(null)};return e.jsx("section",{id:"public-calculator",style:{padding:"80px 0",background:"var(--bg-off-white)"},children:e.jsxs("div",{className:"container",style:{maxWidth:"800px"},children:[e.jsxs("div",{style:{textAlign:"center",marginBottom:"40px"},children:[e.jsx("h2",{style:{fontSize:"2.5rem",color:"var(--trust-blue)",marginBottom:"12px"},children:"Solar Savings Estimator"}),e.jsx("p",{style:{color:"var(--text-muted)"},children:"Quick estimate for your solar needs. No login required."})]}),e.jsxs("div",{style:{background:"white",padding:"40px",borderRadius:"24px",boxShadow:"var(--shadow-md)",border:"1px solid #eee"},children:[s===1&&e.jsxs("div",{children:[e.jsxs("h3",{style:{marginBottom:"24px"},children:[e.jsx(Re,{size:24,color:"var(--sun-orange)",style:{verticalAlign:"middle",marginRight:"10px"}})," Step 1: Your Location"]}),e.jsx("div",{className:"grid grid-2",style:{gap:"12px"},children:u.map(o=>e.jsx("button",{onClick:()=>{a({...n,location:o}),r(2)},style:{padding:"16px",borderRadius:"12px",border:"2px solid #eee",background:n.location===o?"var(--sky-blue)":"white",borderColor:n.location===o?"var(--trust-blue)":"#eee",fontWeight:600,textAlign:"left"},children:o},o))})]}),s===2&&e.jsxs("div",{children:[e.jsx("h3",{style:{marginBottom:"24px"},children:"Step 2: Average Monthly Bill"}),e.jsxs("div",{style:{padding:"20px 0"},children:[e.jsxs("div",{style:{fontSize:"2.5rem",fontWeight:800,color:"var(--zambia-green)",textAlign:"center",marginBottom:"20px"},children:["K",n.bill.toLocaleString()]}),e.jsx("input",{type:"range",min:"300",max:"10000",step:"100",value:n.bill,onChange:o=>a({...n,bill:parseInt(o.target.value)}),style:{width:"100%",accentColor:"var(--sun-orange)",height:"8px",borderRadius:"4px"}}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:"10px",color:"#999",fontSize:"0.9rem"},children:[e.jsx("span",{children:"K300"}),e.jsx("span",{children:"K10,000+"})]})]}),e.jsxs("button",{className:"btn btn-primary",style:{width:"100%",marginTop:"30px"},onClick:()=>r(3),children:["Next Step ",e.jsx(Q,{size:18})]})]}),s===3&&e.jsxs("div",{children:[e.jsx("h3",{style:{marginBottom:"24px"},children:"Step 3: What appliances are essential?"}),e.jsx("div",{className:"grid grid-2",style:{gap:"12px"},children:h.map(o=>e.jsxs("button",{onClick:()=>j(o.id),style:{padding:"16px",borderRadius:"12px",border:"2px solid #eee",background:n.appliances.includes(o.id)?"var(--sky-blue)":"white",borderColor:n.appliances.includes(o.id)?"var(--trust-blue)":"#eee",fontWeight:600,textAlign:"left",display:"flex",alignItems:"center",gap:"12px"},children:[o.icon," ",o.label]},o.id))}),e.jsxs("button",{className:"btn btn-primary",style:{width:"100%",marginTop:"30px"},onClick:m,children:["Estimate Savings ",e.jsx(We,{size:18,style:{marginLeft:"8px"}})]})]}),s===4&&l&&e.jsxs("div",{style:{textAlign:"center"},children:[e.jsxs("div",{style:{background:"#f0f7ff",padding:"32px",borderRadius:"20px",marginBottom:"32px"},children:[e.jsx("h3",{style:{color:"var(--trust-blue)",marginBottom:"24px"},children:"Your Basic Solar Estimate"}),e.jsxs("div",{className:"grid grid-3",style:{gap:"16px"},children:[e.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"12px",boxShadow:"var(--shadow-sm)"},children:[e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",marginBottom:"4px"},children:"System Size"}),e.jsx("div",{style:{fontSize:"1.4rem",fontWeight:800},children:l.size})]}),e.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"12px",boxShadow:"var(--shadow-sm)"},children:[e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",marginBottom:"4px"},children:"Cost Range"}),e.jsx("div",{style:{fontSize:"1.1rem",fontWeight:800},children:l.cost})]}),e.jsxs("div",{style:{background:"white",padding:"20px",borderRadius:"12px",boxShadow:"var(--shadow-sm)"},children:[e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--text-muted)",marginBottom:"4px"},children:"Est. Savings"}),e.jsx("div",{style:{fontSize:"1.4rem",fontWeight:800,color:"var(--zambia-green)"},children:l.savings})]})]})]}),e.jsxs("div",{style:{background:"#fff8e1",padding:"24px",borderRadius:"16px",border:"1px solid #ffd54f",marginBottom:"32px",textAlign:"left",display:"flex",gap:"16px",alignItems:"center"},children:[e.jsx(bt,{color:"#ff8f00",size:32,style:{flexShrink:0}}),e.jsxs("div",{children:[e.jsx("p",{style:{fontWeight:700,color:"#ff8f00",marginBottom:"4px"},children:"Want a precise quote?"}),e.jsx("p",{style:{fontSize:"0.9rem",color:"#5d4037"},children:"For detailed quotes from 3 certified installers and load-shedding analysis, create your free account."})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:[e.jsxs("button",{onClick:()=>i("user"),className:"btn btn-primary",style:{width:"100%",fontSize:"1.1rem",padding:"18px"},children:["Get Full Quotes & Analysis",e.jsx(Q,{size:20,style:{marginLeft:"10px"}})]}),e.jsxs("button",{className:"btn",style:{background:"transparent",color:"var(--trust-blue)",border:"none"},onClick:w,children:[e.jsx(Ze,{size:16})," Start Over"]})]})]})]})]})})},Gt=({name:i,location:s,rating:r,jobs:n,image:a})=>e.jsxs("div",{style:{background:"white",borderRadius:"16px",overflow:"hidden",boxShadow:"var(--shadow-sm)",border:"1px solid #eee"},children:[e.jsx("div",{style:{height:"160px",background:"#e3f2fd",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx("img",{src:a,style:{width:"100%",height:"100%",objectFit:"cover"},alt:i})}),e.jsxs("div",{style:{padding:"20px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px"},children:[e.jsx("h4",{style:{margin:0,fontSize:"1.2rem"},children:i}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",color:"#ffb300",fontWeight:700},children:[e.jsx(Ve,{size:16,fill:"#ffb300"}),r]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",color:"#888",fontSize:"0.9rem",marginBottom:"16px"},children:[e.jsx(Re,{size:14}),s]}),e.jsxs("div",{style:{borderTop:"1px solid #f0f0f0",paddingTop:"16px",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("span",{style:{fontSize:"0.85rem",color:"#666"},children:[n,"+ Installations"]}),e.jsx("span",{style:{color:"var(--zambia-green)",fontWeight:700,fontSize:"0.8rem"},children:"Verified"})]})]})]}),$t=({onAuthClick:i})=>{const s=[{name:"SolarPoint Zambia",location:"Lusaka",rating:4.9,jobs:120,image:"https://images.unsplash.com/photo-1581094794329-c8112a89af12?auto=format&fit=crop&q=80&w=400"},{name:"EcoEnergy Ltd",location:"Ndola",rating:4.8,jobs:85,image:"https://images.unsplash.com/photo-1621905251189-08b45d6a269e?auto=format&fit=crop&q=80&w=400"},{name:"Sunrise Solutions",location:"Livingstone",rating:4.7,jobs:60,image:"https://images.unsplash.com/photo-1624391976761-d7769cdfe378?auto=format&fit=crop&q=80&w=400"}];return e.jsx("section",{style:{padding:"80px 0",background:"white"},children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",marginBottom:"40px",flexWrap:"wrap",gap:"20px"},children:[e.jsxs("div",{children:[e.jsx("h2",{style:{fontSize:"2.5rem",color:"var(--trust-blue)",marginBottom:"12px"},children:"Featured Certified Installers"}),e.jsx("p",{style:{color:"var(--text-muted)"},children:"Work with the best technicians, vetted by SunGate."})]}),e.jsxs("button",{onClick:()=>i("user"),className:"btn btn-secondary",style:{padding:"12px 24px",fontSize:"0.9rem"},children:["View All Installers ",e.jsx(Q,{size:18,style:{marginLeft:"8px"}})]})]}),e.jsx("div",{className:"grid grid-3",children:s.map((r,n)=>e.jsx(Gt,{...r},n))})]})})},Kt=()=>{const i=[{icon:e.jsx(J,{size:32,color:"var(--sun-orange)"}),title:"Government Tax Exemptions",desc:"0% duty & VAT on solar equipment"},{icon:e.jsx(Je,{size:32,color:"var(--trust-blue)"}),title:"ERB Certified Installers",desc:"Vetted technicians only"},{icon:e.jsx(ne,{size:32,color:"var(--zambia-green)"}),title:"100+ Systems Installed",desc:"Trusted by Zambian homeowners"},{icon:e.jsx(Le,{size:32,color:"#ff4d4d"}),title:"Best Price Guarantee",desc:"We match verified competitor quotes"}];return e.jsx("section",{style:{padding:"60px 0",background:"#f8f9fa",borderTop:"1px solid #eee",borderBottom:"1px solid #eee"},children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"grid grid-4",style:{gap:"30px"},children:i.map((s,r)=>e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"},children:[e.jsx("div",{style:{marginBottom:"16px",padding:"16px",background:"white",borderRadius:"50%",boxShadow:"var(--shadow-sm)"},children:s.icon}),e.jsx("h4",{style:{fontSize:"1rem",marginBottom:"8px"},children:s.title}),e.jsx("p",{style:{fontSize:"0.85rem",color:"#888",margin:0},children:s.desc})]},r))})})})},Qt=({category:i,title:s,excerpt:r,image:n,link:a})=>e.jsxs("div",{style:{background:"white",borderRadius:"16px",overflow:"hidden",boxShadow:"var(--shadow-sm)",border:"1px solid #eee"},children:[e.jsx("div",{style:{height:"200px",background:"#f5f5f5"},children:e.jsx("img",{src:n,style:{width:"100%",height:"100%",objectFit:"cover"},alt:s})}),e.jsxs("div",{style:{padding:"24px"},children:[e.jsx("span",{style:{fontSize:"0.75rem",fontWeight:800,color:"var(--sun-orange)",textTransform:"uppercase",letterSpacing:"1px"},children:i}),e.jsx("h4",{style:{fontSize:"1.25rem",margin:"8px 0 12px",lineHeight:1.4},children:s}),e.jsx("p",{style:{fontSize:"0.9rem",color:"#666",marginBottom:"20px",lineHeight:1.6},children:r}),e.jsxs("a",{href:a,style:{display:"flex",alignItems:"center",gap:"8px",color:"var(--trust-blue)",fontWeight:700,fontSize:"0.9rem"},children:["Read Full Article ",e.jsx(Q,{size:16})]})]})]}),Zt=()=>{const i=[{category:"Buying Guide",title:"How to Choose the Right Inverter for Your Home",excerpt:"Not all inverters are equal. Learn the difference between pure sine wave and modified sine wave for Zambian appliances.",image:"https://images.unsplash.com/photo-1508514177221-188b1cf16e9d?auto=format&fit=crop&q=80&w=400",link:"/blog"},{category:"Savings",title:"Understanding Zambia's 0% Duty on Solar Hardware",excerpt:"Save thousands on your installation by knowing which components qualify for government tax exemptions in 2026.",image:"https://images.unsplash.com/photo-1466611653911-954ffea1127b?auto=format&fit=crop&q=80&w=400",link:"/blog"},{category:"Maintenance",title:"5 Tips to Make Your Solar Batteries Last Longer",excerpt:"Simple habits that can extend your battery life by up to 3 years and protect your investment from load-shedding cycles.",image:"https://images.unsplash.com/photo-1594818378822-9193288979be?auto=format&fit=crop&q=80&w=400",link:"/blog"}];return e.jsx("section",{style:{padding:"80px 0",background:"white"},children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-end",marginBottom:"40px",flexWrap:"wrap",gap:"20px"},children:[e.jsxs("div",{children:[e.jsx("h2",{style:{fontSize:"2.5rem",color:"var(--trust-blue)",marginBottom:"12px"},children:"Solar Knowledge Hub"}),e.jsx("p",{style:{color:"var(--text-muted)"},children:"Expert advice to help you transition to renewable energy in Zambia."})]}),e.jsxs("a",{href:"/blog",className:"btn btn-secondary",style:{padding:"12px 24px",fontSize:"0.9rem"},children:["Browse All Articles ",e.jsx(_e,{size:18,style:{marginLeft:"8px"}})]})]}),e.jsx("div",{className:"grid grid-3",children:i.map((s,r)=>e.jsx(Qt,{...s},r))})]})})},tt=({onDashboardClick:i})=>e.jsx("footer",{style:{background:"#1a1a1a",color:"#e0e0e0",padding:"80px 0 40px"},children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{className:"grid grid-4",style:{marginBottom:"60px"},children:[e.jsxs("div",{style:{gridColumn:"span 1"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",fontWeight:800,fontSize:"1.5rem",marginBottom:"24px",color:"white"},children:[e.jsx(we,{size:32,color:"var(--sun-orange)",fill:"var(--sun-gold)"}),e.jsx("span",{children:"SunGate"})]}),e.jsx("p",{style:{color:"#888",lineHeight:1.6,marginBottom:"24px"},children:"Zambia's premier marketplace for solar energy solutions. Powering homes and businesses with certified solar components."}),e.jsxs("div",{style:{display:"flex",gap:"16px"},children:[e.jsx("div",{style:{width:"40px",height:"40px",background:"var(--zambia-green)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",color:"white"},children:e.jsx(ye,{size:20})}),e.jsx(T,{to:"#",style:{width:"40px",height:"40px",background:"#333",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(Ee,{size:20})}),e.jsx(T,{to:"#",style:{width:"40px",height:"40px",background:"#333",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(Be,{size:20})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{style:{color:"white",marginBottom:"24px",fontSize:"1.1rem"},children:"Sitemap"}),e.jsxs("ul",{style:{listStyle:"none",padding:0,display:"flex",flexDirection:"column",gap:"12px",fontSize:"0.9rem"},children:[e.jsx("li",{children:e.jsx(T,{to:"/",style:{color:"#aaa"},children:"Home"})}),e.jsx("li",{children:e.jsx(T,{to:"/calculator",style:{color:"#aaa"},children:"Solar Calculator"})}),e.jsx("li",{children:e.jsx(T,{to:"/#installers",style:{color:"#aaa"},children:"Installers"})}),e.jsx("li",{children:e.jsx(T,{to:"/#businesses",style:{color:"#aaa"},children:"For Businesses"})}),e.jsx("li",{children:e.jsx(T,{to:"/partners",style:{color:"#aaa"},children:"For Partners"})}),e.jsx("li",{children:e.jsx(T,{to:"/blog",style:{color:"#aaa"},children:"Solar Blog"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{style:{color:"white",marginBottom:"24px",fontSize:"1.1rem"},children:"Contact Us"}),e.jsxs("ul",{style:{listStyle:"none",padding:0,display:"flex",flexDirection:"column",gap:"16px",fontSize:"0.9rem"},children:[e.jsxs("li",{style:{display:"flex",gap:"12px",color:"#aaa"},children:[e.jsx("div",{style:{color:"var(--sun-orange)"},children:e.jsx(J,{size:18})}),e.jsxs("span",{children:["Lusaka, Zambia",e.jsx("br",{}),"Great East Road"]})]}),e.jsxs("li",{style:{display:"flex",gap:"12px",color:"#aaa"},children:[e.jsx("div",{style:{color:"var(--sun-orange)"},children:e.jsx(Be,{size:18})}),e.jsx("span",{children:"+260 974 300 472"})]}),e.jsxs("li",{style:{display:"flex",gap:"12px",color:"#aaa"},children:[e.jsx("div",{style:{color:"var(--sun-orange)"},children:e.jsx(Ee,{size:18})}),e.jsx("span",{children:"support@sungate.co.zm"})]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{style:{color:"white",marginBottom:"24px",fontSize:"1.1rem"},children:"Quick Access"}),e.jsx("p",{style:{fontSize:"0.85rem",color:"#888",marginBottom:"20px"},children:"Ready to start your solar journey? Access your personalized dashboard now."}),e.jsxs("button",{onClick:i,className:"btn btn-primary",style:{width:"100%",padding:"14px"},children:["Access Dashboard ",e.jsx(Q,{size:18,style:{marginLeft:"8px"}})]})]})]}),e.jsxs("div",{style:{paddingTop:"30px",borderTop:"1px solid #333",textAlign:"center",fontSize:"0.85rem",color:"#666",display:"flex",justifyContent:"space-between",flexWrap:"wrap",gap:"20px"},children:[e.jsxs("span",{children:["© ",new Date().getFullYear()," SunGate Zambia. All rights reserved."]}),e.jsxs("div",{style:{display:"flex",gap:"24px"},children:[e.jsx("a",{href:"/privacy",style:{color:"#666"},children:"Privacy Policy"}),e.jsx("a",{href:"/terms",style:{color:"#666"},children:"Terms & Conditions"})]})]})]})}),Qe=({onAuthClick:i})=>{const s=()=>i("user");return e.jsxs("div",{className:"landing-page",children:[e.jsx(Ut,{onDashboardClick:s}),e.jsx(Kt,{}),e.jsx(Ht,{onAuthClick:i}),e.jsx(Ot,{onCalcClick:()=>document.getElementById("public-calculator").scrollIntoView({behavior:"smooth"})}),e.jsx("section",{id:"public-calculator-section",children:e.jsx(et,{onAuthClick:i})}),e.jsx($t,{onAuthClick:i}),e.jsx(Zt,{}),e.jsx(tt,{onDashboardClick:s})]})},Yt=({onAuthClick:i})=>{const[s,r]=c.useState(!1),n=jt(),a=[{title:"Calculator",path:"/calculator"},{title:"Installers",path:"/partners"},{title:"Suppliers",path:"/partners?type=supplier"},{title:"Blog",path:"/blog"}];return e.jsxs("nav",{style:{position:"sticky",top:0,zIndex:1e3,background:"rgba(255,255,255,0.98)",backdropFilter:"blur(10px)",boxShadow:"var(--shadow-sm)",height:"80px",display:"flex",alignItems:"center"},children:[e.jsxs("div",{className:"container",style:{display:"flex",justifyContent:"space-between",alignItems:"center",width:"100%"},children:[e.jsxs(T,{to:"/",style:{display:"flex",alignItems:"center",gap:"8px",fontWeight:800,fontSize:"1.5rem",color:"var(--trust-blue)"},children:[e.jsx(we,{size:32,color:"var(--sun-orange)",fill:"var(--sun-gold)"}),e.jsxs("span",{children:["SunGate ",e.jsx("span",{style:{color:"var(--zambia-green)"},children:"Zambia"})]})]}),e.jsx("div",{className:"desktop-menu",style:{display:"flex",gap:"32px"},children:a.map((l,y)=>e.jsx(T,{to:l.path,style:{fontWeight:600,fontSize:"0.95rem",color:n.pathname===l.path?"var(--sun-orange)":"inherit"},children:l.title},y))}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[e.jsxs("button",{onClick:()=>i("user"),className:"btn btn-primary",style:{padding:"10px 20px",fontSize:"0.85rem"},children:[e.jsx(be,{size:18,style:{marginRight:"6px"}})," Login / Dashboard"]}),e.jsx("button",{className:"mobile-menu-btn",onClick:()=>r(!s),style:{background:"none",color:"var(--trust-blue)",border:"none",display:"none"},children:s?e.jsx(te,{size:28}):e.jsx(Xe,{size:28})})]})]}),s&&e.jsx("div",{style:{position:"absolute",top:"80px",left:0,right:0,background:"white",padding:"30px",borderTop:"1px solid #eee",boxShadow:"var(--shadow-md)"},children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[a.map((l,y)=>e.jsx(T,{to:l.path,onClick:()=>r(!1),style:{fontSize:"1.1rem",fontWeight:600},children:l.title},y)),e.jsx("button",{onClick:()=>{i("user"),r(!1)},className:"btn btn-primary",style:{width:"100%"},children:"Access Dashboard"})]})}),e.jsx("style",{children:`
        @media (max-width: 991px) { 
          .desktop-menu { display: none !important; } 
          .mobile-menu-btn { display: block !important; }
        }
      `})]})},Vt=({name:i,price:s,features:r,highlighted:n,onSignup:a})=>e.jsxs("div",{style:{background:"white",padding:"40px",borderRadius:"24px",border:n?"2px solid var(--sun-orange)":"1px solid #eee",boxShadow:n?"var(--shadow-lg)":"var(--shadow-sm)",position:"relative",display:"flex",flexDirection:"column",transform:n?"scale(1.05)":"none",zIndex:n?2:1},children:[n&&e.jsx("div",{style:{position:"absolute",top:"-15px",left:"50%",transform:"translateX(-50%)",background:"var(--sun-orange)",color:"white",padding:"4px 16px",borderRadius:"99px",fontSize:"0.8rem",fontWeight:800},children:"MOST POPULAR"}),e.jsx("h3",{style:{fontSize:"1.5rem",marginBottom:"8px"},children:i}),e.jsxs("div",{style:{fontSize:"2rem",fontWeight:800,marginBottom:"24px",color:"var(--trust-blue)"},children:[s,e.jsx("span",{style:{fontSize:"1rem",fontWeight:500,color:"#888"},children:s!=="Free"?"/month":""})]}),e.jsx("ul",{style:{listStyle:"none",padding:0,marginBottom:"32px",flex:1},children:r.map((l,y)=>e.jsxs("li",{style:{display:"flex",gap:"10px",marginBottom:"12px",fontSize:"0.9rem",color:"#666"},children:[e.jsx(wt,{size:18,color:"var(--zambia-green)",style:{flexShrink:0}}),e.jsx("span",{children:l})]},y))}),e.jsx("button",{onClick:a,className:`btn ${n?"btn-primary":"btn-secondary"}`,style:{width:"100%"},children:"Get Started"})]}),Jt=({type:i,onAuthClick:s})=>{const[r]=vt(),l=(r.get("type")||i||"installer")==="installer",y=l?[{icon:e.jsx(Oe,{size:28}),title:"Qualified Leads",desc:"Leads delivered directly to your dashboard."},{icon:e.jsx(Pe,{size:28}),title:"Professional Profile",desc:"Showcase your work and photo gallery."},{icon:e.jsx(Ge,{size:28}),title:"Trust Reviews",desc:"Build reputation with verified customer feedback."},{icon:e.jsx($e,{size:28}),title:"Wholesale Pricing",desc:"Access bulk rates from our supplier network."},{icon:e.jsx(J,{size:28}),title:"SunGate Verified",desc:"Get the badge that proves your excellence."},{icon:e.jsx(ne,{size:28}),title:"Growth Tools",desc:"Analytics and tools to scale your business."}]:[{icon:e.jsx(Oe,{size:28}),title:"Active Buyers",desc:"Reach thousands of customers looking for solar."},{icon:e.jsx(Pe,{size:28}),title:"Supplier Portal",desc:"Manage listings and inquiries in one place."},{icon:e.jsx(Ge,{size:28}),title:"Brand Exposure",desc:"Showcase your products to Zambia's largest solar community."},{icon:e.jsx($e,{size:28}),title:"Direct Inquiries",desc:"Customers can request quotes directly for your items."},{icon:e.jsx(J,{size:28}),title:"Market Insights",desc:"See what products are in high demand."},{icon:e.jsx(ne,{size:28}),title:"Verified Listings",desc:"Gain trust with the SunGate Verified seal."}],u=l?[{name:"Basic",price:"Free",features:["Limited profile","Pay per lead (K50)","Standard support","Basic analytics"]},{name:"Professional",price:"K500",highlighted:!0,features:["Full professional profile","10 leads included","Priority support","SunGate Verified Badge"]},{name:"Premium",price:"K1,500",features:["Top placement in directory","Unlimited leads","Dedicated account manager","Featured on homepage"]}]:[{name:"Starter",price:"Free",features:["Up to 5 product listings","Standard inquiry handling","Basic shop profile"]},{name:"Business",price:"K750",highlighted:!0,features:["Unlimited product listings","Priority in search results","Direct WhatsApp integration","Verified Supplier Badge"]},{name:"Enterprise",price:"Custom",features:["Banner ads on marketplace","API integration","Market trend reports","Bulk marketing tools"]}];return e.jsxs("div",{style:{background:"white"},children:[e.jsx("section",{style:{padding:"100px 0",background:l?"var(--trust-blue)":"var(--sun-orange)",color:"white",textAlign:"center"},children:e.jsxs("div",{className:"container",children:[e.jsx("h1",{style:{fontSize:"3.5rem",fontWeight:800,marginBottom:"16px"},children:l?"Partner with SunGate Zambia":"Sell on Zambia's Solar Marketplace"}),e.jsx("p",{style:{fontSize:"1.25rem",opacity:.9,maxWidth:"700px",margin:"0 auto 40px"},children:"Join Zambia's fastest-growing solar platform and grow your business today."}),e.jsxs("button",{onClick:()=>s(l?"installer":"supplier"),className:"btn",style:{background:"white",color:l?"var(--trust-blue)":"var(--sun-orange)",padding:"16px 32px"},children:["Create ",l?"Installer":"Supplier"," Account",e.jsx(Q,{size:20,style:{marginLeft:"8px"}})]})]})}),e.jsx("section",{style:{padding:"80px 0"},children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"grid grid-3",style:{gap:"40px"},children:y.map((h,j)=>e.jsxs("div",{style:{display:"flex",gap:"20px"},children:[e.jsx("div",{style:{color:l?"var(--trust-blue)":"var(--sun-orange)",flexShrink:0},children:h.icon}),e.jsxs("div",{children:[e.jsx("h4",{style:{fontSize:"1.2rem",marginBottom:"8px"},children:h.title}),e.jsx("p",{style:{fontSize:"0.9rem",color:"#666",lineHeight:1.5},children:h.desc})]})]},j))})})}),e.jsx("section",{style:{padding:"80px 0",background:"#f8f9fa"},children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{style:{textAlign:"center",marginBottom:"60px"},children:[e.jsx("h2",{style:{fontSize:"2.5rem",marginBottom:"16px"},children:"Flexible Pricing for Everyone"}),e.jsx("p",{style:{color:"#666"},children:"Choose the plan that fits your business stage."})]}),e.jsx("div",{className:"grid grid-3",style:{gap:"30px",maxWidth:"1100px",margin:"0 auto"},children:u.map((h,j)=>e.jsx(Vt,{...h,onSignup:()=>s(l?"installer":"supplier")},j))})]})}),e.jsx("section",{style:{padding:"100px 0",textAlign:"center"},children:e.jsxs("div",{className:"container",style:{maxWidth:"700px"},children:[e.jsx("h2",{style:{fontSize:"2.5rem",marginBottom:"24px"},children:"Ready to Grow?"}),e.jsxs("p",{style:{color:"#666",marginBottom:"40px",fontSize:"1.1rem"},children:["Complete your profile in minutes and start receiving",l?" highly qualified leads":" customer inquiries"," today."]}),e.jsx("button",{onClick:()=>s(l?"installer":"supplier"),className:"btn btn-primary",style:{padding:"18px 48px",fontSize:"1.1rem"},children:"Get Started Now"})]})})]})},Xt=({category:i,title:s,excerpt:r,image:n,date:a,author:l})=>e.jsxs("div",{style:{background:"white",borderRadius:"24px",overflow:"hidden",boxShadow:"var(--shadow-sm)",border:"1px solid #eee",transition:"transform 0.3s ease"},className:"blog-card",children:[e.jsxs("div",{style:{height:"240px",position:"relative"},children:[e.jsx("img",{src:n,style:{width:"100%",height:"100%",objectFit:"cover"},alt:s}),e.jsx("div",{style:{position:"absolute",top:"20px",left:"20px",background:"white",padding:"4px 12px",borderRadius:"99px",fontSize:"0.75rem",fontWeight:800,color:"var(--sun-orange)",boxShadow:"var(--shadow-sm)"},children:i})]}),e.jsxs("div",{style:{padding:"30px"},children:[e.jsxs("div",{style:{display:"flex",gap:"16px",fontSize:"0.8rem",color:"#999",marginBottom:"16px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[e.jsx(St,{size:14})," ",a]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[e.jsx(be,{size:14})," ",l]})]}),e.jsx("h3",{style:{fontSize:"1.5rem",marginBottom:"16px",lineHeight:1.3},children:s}),e.jsx("p",{style:{color:"#666",fontSize:"0.95rem",marginBottom:"24px",lineHeight:1.6},children:r}),e.jsxs("button",{style:{background:"none",border:"none",color:"var(--trust-blue)",fontWeight:700,display:"flex",alignItems:"center",gap:"8px",padding:0,cursor:"pointer"},children:["Read Article ",e.jsx(Q,{size:18})]})]}),e.jsx("style",{children:`
      .blog-card:hover {
        transform: translateY(-10px);
        box-shadow: var(--shadow-lg);
      }
    `})]}),es=()=>{const i=["All","Buying Guides","Maintenance","Solar Tech","Zombia Market"],s=[{category:"Buying Guides",title:"How to Choose the Right Inverter for Your Home",excerpt:"Not all inverters are equal. Learn the difference between pure sine wave and modified sine wave for Zambian appliances.",image:"https://images.unsplash.com/photo-1508514177221-188b1cf16e9d?auto=format&fit=crop&q=80&w=400",date:"Feb 15, 2026",author:"Chilufya M."},{category:"Zambia Market",title:"Understanding Zambia's 0% Duty on Solar Hardware",excerpt:"Save thousands on your installation by knowing which components qualify for government tax exemptions in 2026.",image:"https://images.unsplash.com/photo-1466611653911-954ffea1127b?auto=format&fit=crop&q=80&w=400",date:"Feb 10, 2026",author:"SunGate Team"},{category:"Maintenance",title:"5 Tips to Make Your Solar Batteries Last Longer",excerpt:"Simple habits that can extend your battery life by up to 3 years and protect your investment from load-shedding cycles.",image:"https://images.unsplash.com/photo-1594818378822-9193288979be?auto=format&fit=crop&q=80&w=400",date:"Feb 5, 2026",author:"Joseph K."},{category:"Solar Tech",title:"Lithium vs Gel: Which Battery is Better for Load-Shedding?",excerpt:"A deep dive into the pros and cons of different battery technologies in the Zambian climate.",image:"https://images.unsplash.com/photo-1611367540803-0238d374431e?auto=format&fit=crop&q=80&w=400",date:"Jan 28, 2026",author:"Tech Corner"},{category:"Buying Guides",title:"Complete Solar Kit Pricing Guide for 2026",excerpt:"Estimated costs for 3kW, 5kW, and 10kW systems including installation and certification fees.",image:"https://images.unsplash.com/photo-1559302995-f0a1bc19e59d?auto=format&fit=crop&q=80&w=400",date:"Jan 20, 2026",author:"SunGate Team"},{category:"Maintenance",title:"Post-Installation Checklist: What Every Owner Must Know",excerpt:"Ensure your warranty remains valid and your system performs at peak efficiency year-round.",image:"https://images.unsplash.com/photo-1613665813446-82a78c468a1d?auto=format&fit=crop&q=80&w=400",date:"Jan 12, 2026",author:"Expert Advice"}];return e.jsxs("div",{style:{background:"#f8f9fa",minHeight:"100vh"},children:[e.jsx("section",{style:{padding:"80px 0",background:"white",borderBottom:"1px solid #eee"},children:e.jsxs("div",{className:"container",children:[e.jsxs("div",{style:{textAlign:"center",marginBottom:"48px"},children:[e.jsx("h1",{style:{fontSize:"3rem",fontWeight:800,marginBottom:"16px",color:"var(--trust-blue)"},children:"Solar Knowledge Hub"}),e.jsx("p",{style:{color:"#666",fontSize:"1.2rem",maxWidth:"700px",margin:"0 auto"},children:"Your ultimate resource for renewable energy guides, news, and technical expert advice in Zambia."})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"20px",background:"#f8f9fa",padding:"20px",borderRadius:"16px"},children:[e.jsx("div",{style:{display:"flex",gap:"12px",flexWrap:"wrap"},children:i.map(r=>e.jsx("button",{style:{padding:"8px 20px",borderRadius:"99px",background:r==="All"?"var(--sun-orange)":"white",color:r==="All"?"white":"#666",border:"1px solid #eee",fontWeight:600,fontSize:"0.9rem"},children:r},r))}),e.jsxs("div",{style:{position:"relative",flex:"1",maxWidth:"400px"},children:[e.jsx(Ce,{size:18,style:{position:"absolute",left:"16px",top:"50%",transform:"translateY(-50%)",color:"#999"}}),e.jsx("input",{type:"text",placeholder:"Search articles...",style:{width:"100%",padding:"12px 12px 12px 48px",borderRadius:"99px",border:"1px solid #eee",outline:"none"}})]})]})]})}),e.jsx("section",{style:{padding:"80px 0"},children:e.jsxs("div",{className:"container",children:[e.jsx("div",{className:"grid grid-3",style:{gap:"40px"},children:s.map((r,n)=>e.jsx(Xt,{...r},n))}),e.jsx("div",{style:{textAlign:"center",marginTop:"60px"},children:e.jsx("button",{className:"btn btn-secondary",style:{padding:"16px 40px"},children:"Load More Articles"})})]})}),e.jsx("section",{style:{padding:"80px 0",background:"var(--trust-blue)",color:"white"},children:e.jsxs("div",{className:"container",style:{textAlign:"center",maxWidth:"700px"},children:[e.jsx("div",{style:{marginBottom:"24px",display:"inline-flex",padding:"16px",background:"rgba(255,255,255,0.1)",borderRadius:"50%"},children:e.jsx(_e,{size:40})}),e.jsx("h2",{style:{fontSize:"2.5rem",marginBottom:"16px"},children:"Stay Powered Up"}),e.jsx("p",{style:{opacity:.9,marginBottom:"32px",fontSize:"1.1rem"},children:"Join 5,000+ Zambians receiving weekly solar tips and exclusive hardware deals."}),e.jsxs("div",{style:{display:"flex",gap:"12px",maxWidth:"500px",margin:"0 auto"},children:[e.jsx("input",{type:"email",placeholder:"Enter your email",style:{flex:1,padding:"16px 24px",borderRadius:"12px",border:"none",outline:"none"}}),e.jsx("button",{className:"btn btn-primary",style:{padding:"0 32px"},children:"Subscribe"})]})]})})]})},ts=({session:i,profile:s,onAuthClick:r,onLogout:n,cartCount:a,onCartClick:l})=>{const[y,u]=c.useState(!1);return e.jsxs("nav",{style:{position:"sticky",top:0,zIndex:1e3,background:"rgba(255,255,255,0.98)",backdropFilter:"blur(10px)",boxShadow:"var(--shadow-sm)"},children:[e.jsxs("div",{className:"container",style:{display:"flex",justifyContent:"space-between",alignItems:"center",height:"80px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",fontWeight:800,fontSize:"1.5rem",color:"var(--trust-blue)"},children:[e.jsx(we,{size:32,color:"var(--sun-orange)",fill:"var(--sun-gold)"}),e.jsxs("span",{children:["SunGate ",e.jsx("span",{style:{color:"var(--zambia-green)"},children:"Zambia"})]})]}),e.jsxs("div",{className:"desktop-menu",style:{display:"flex",gap:"32px"},children:[e.jsx(T,{to:"/#calculator",style:{fontWeight:600,fontSize:"0.95rem"},children:"Calculator"}),e.jsx(T,{to:"/#marketplace",style:{fontWeight:600,fontSize:"0.95rem"},children:"Marketplace"}),e.jsx(T,{to:"/#installers",style:{fontWeight:600,fontSize:"0.95rem"},children:"Installers"}),e.jsx(T,{to:"/blog",style:{fontWeight:600,fontSize:"0.95rem"},children:"Knowledge"}),e.jsx(T,{to:"/partners",style:{fontWeight:600,fontSize:"0.95rem",color:"var(--trust-blue)"},children:"Partners"})]}),e.jsxs("div",{className:"nav-actions",style:{display:"flex",alignItems:"center",gap:"16px"},children:[i?e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[e.jsxs("button",{onClick:l,style:{background:"none",border:"none",position:"relative",color:"var(--trust-blue)",cursor:"pointer",padding:"8px"},children:[e.jsx(Ye,{size:24}),a>0&&e.jsx("span",{style:{position:"absolute",top:0,right:0,background:"var(--sun-orange)",color:"white",fontSize:"0.7rem",fontWeight:800,padding:"2px 6px",borderRadius:"99px",border:"2px solid white"},children:a})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsxs("div",{style:{textAlign:"right",display:"none",md:"block"},children:[e.jsx("div",{style:{fontSize:"0.8rem",fontWeight:700,color:"var(--trust-blue)"},children:(s==null?void 0:s.full_name)||"My Account"}),e.jsx("div",{style:{fontSize:"0.7rem",color:"#888",textTransform:"uppercase"},children:s==null?void 0:s.role})]}),e.jsx("button",{onClick:n,className:"btn btn-secondary",style:{padding:"8px 12px",background:"#f5f5f5",color:"#666",border:"none"},children:e.jsx(kt,{size:18})})]})]}):e.jsxs("button",{onClick:r,className:"btn btn-primary",style:{padding:"10px 20px",fontSize:"0.85rem"},children:[e.jsx(be,{size:18,style:{marginRight:"6px"}})," Login"]}),e.jsx("button",{className:"mobile-menu-btn",onClick:()=>u(!y),style:{background:"none",color:"var(--trust-blue)",border:"none"},children:y?e.jsx(te,{size:28}):e.jsx(Xe,{size:28})})]})]}),y&&e.jsx("div",{style:{position:"absolute",top:"80px",left:0,right:0,background:"white",padding:"30px",borderTop:"1px solid #eee",boxShadow:"var(--shadow-md)"},children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"24px"},children:[e.jsx("a",{href:"#calculator",onClick:()=>u(!1),style:{fontSize:"1.1rem",fontWeight:600},children:"Solar Calculator"}),e.jsx("a",{href:"#marketplace",onClick:()=>u(!1),style:{fontSize:"1.1rem",fontWeight:600},children:"Marketplace"}),e.jsx("a",{href:"#installers",onClick:()=>u(!1),style:{fontSize:"1.1rem",fontWeight:600},children:"Installer Directory"}),e.jsx("a",{href:"#blog",onClick:()=>u(!1),style:{fontSize:"1.1rem",fontWeight:600},children:"Knowledge Hub"}),e.jsx("a",{href:"/partners",onClick:()=>u(!1),style:{fontSize:"1.1rem",fontWeight:600,color:"var(--trust-blue)"},children:"Become a Partner"}),!i&&e.jsx("button",{onClick:()=>{r(),u(!1)},className:"btn btn-primary",style:{width:"100%"},children:"Login / Sign Up"})]})}),e.jsx("style",{children:`
                @media (max-width: 991px) { .desktop-menu { display: none !important; } }
                @media (min-width: 992px) { .mobile-menu-btn { display: none !important; } }
            `})]})},ss=({openAuthWithRole:i})=>e.jsx("footer",{style:{background:"#1a1a1a",color:"#e0e0e0",padding:"80px 0 40px"},children:e.jsxs("div",{className:"container",style:{width:"100%"},children:[e.jsxs("div",{className:"grid grid-4",style:{marginBottom:"60px"},children:[e.jsxs("div",{style:{gridColumn:"span 1"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px",fontWeight:800,fontSize:"1.5rem",marginBottom:"24px",color:"white"},children:[e.jsx(we,{size:32,color:"var(--sun-orange)",fill:"var(--sun-gold)"}),e.jsx("span",{children:"SunGate"})]}),e.jsx("p",{style:{color:"#888",lineHeight:1.6,marginBottom:"24px"},children:"Zambia's premier marketplace for solar energy solutions. Connecting functionality with sustainability."}),e.jsxs("div",{style:{display:"flex",gap:"16px"},children:[e.jsx("div",{style:{width:"36px",height:"36px",background:"#333",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(ye,{size:18})}),e.jsx("div",{style:{width:"36px",height:"36px",background:"#333",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(Be,{size:18})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{style:{color:"white",marginBottom:"24px",fontSize:"1.1rem"},children:"Sitemap"}),e.jsxs("ul",{style:{listStyle:"none",padding:0,display:"flex",flexDirection:"column",gap:"12px"},children:[e.jsx("li",{children:e.jsx(T,{to:"/partners",style:{color:"#aaa",textDecoration:"none"},children:"Become a Partner"})}),e.jsx("li",{children:e.jsx(T,{to:"/#marketplace",style:{color:"#aaa",textDecoration:"none"},children:"Marketplace"})}),e.jsx("li",{children:e.jsx(T,{to:"/#installers",style:{color:"#aaa",textDecoration:"none"},children:"Find Installer"})}),e.jsx("li",{children:e.jsx(T,{to:"/blog",style:{color:"#aaa",textDecoration:"none"},children:"Energy Tips"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{style:{color:"white",marginBottom:"24px",fontSize:"1.1rem"},children:"Support"}),e.jsxs("ul",{style:{listStyle:"none",padding:0,display:"flex",flexDirection:"column",gap:"12px"},children:[e.jsx("li",{children:e.jsx("a",{href:"/help",style:{color:"#aaa",textDecoration:"none"},children:"Help Center"})}),e.jsx("li",{children:e.jsx("button",{onClick:()=>i("supplier"),style:{background:"none",border:"none",color:"#aaa",textDecoration:"none",cursor:"pointer",padding:0},children:"Supplier Login"})}),e.jsx("li",{children:e.jsx("button",{onClick:()=>i("installer"),style:{background:"none",border:"none",color:"#aaa",textDecoration:"none",cursor:"pointer",padding:0},children:"Installer Registration"})}),e.jsx("li",{children:e.jsx("a",{href:"/help",style:{color:"#aaa",textDecoration:"none"},children:"Contact Us"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{style:{color:"white",marginBottom:"24px",fontSize:"1.1rem"},children:"Contact"}),e.jsxs("ul",{style:{listStyle:"none",padding:0,display:"flex",flexDirection:"column",gap:"16px"},children:[e.jsxs("li",{style:{display:"flex",gap:"12px",color:"#aaa"},children:[e.jsx(Re,{size:20,color:"var(--sun-orange)"}),e.jsxs("span",{children:["Lusaka, Zambia",e.jsx("br",{}),"Great East Road"]})]}),e.jsxs("li",{style:{display:"flex",gap:"12px",color:"#aaa"},children:[e.jsx(Be,{size:20,color:"var(--sun-orange)"}),e.jsx("span",{children:"0974300472"})]}),e.jsxs("li",{style:{display:"flex",gap:"12px",color:"#aaa"},children:[e.jsx(ye,{size:20,color:"var(--sun-orange)"}),e.jsx("span",{children:"support@sungate.co.zm"})]})]})]})]}),e.jsxs("div",{style:{paddingTop:"30px",borderTop:"1px solid #333",textAlign:"center",fontSize:"0.85rem",color:"#666",display:"flex",justifyContent:"space-between",flexWrap:"wrap",gap:"20px"},children:[e.jsx("span",{children:"© 2026 SunGate Zambia. All rights reserved."}),e.jsxs("div",{style:{display:"flex",gap:"24px"},children:[e.jsx(T,{to:"/privacy",style:{color:"#666",textDecoration:"none"},children:"Privacy Policy"}),e.jsx(T,{to:"/terms",style:{color:"#666",textDecoration:"none"},children:"Terms & Conditions"}),e.jsx(T,{to:"/#sitemap",style:{color:"#666",textDecoration:"none"},children:"Sitemap"})]})]})]})}),rs=({profile:i,savedProducts:s,calcHistory:r,userInquiries:n,onRemoveSaved:a,onDeleteHistory:l,setPdfUrl:y,setShowPdfModal:u})=>e.jsx("section",{style:{padding:"60px 0",background:"linear-gradient(to bottom, #f8f9fa, #ffffff)"},children:e.jsxs("div",{className:"container",children:[e.jsx("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"32px"},children:e.jsxs("div",{children:[e.jsx("div",{className:"badge badge-verified",style:{marginBottom:"8px"},children:"Customer Command Center"}),e.jsxs("h2",{style:{fontSize:"2rem",margin:0},children:["Welcome back, ",i==null?void 0:i.full_name,"!"]})]})}),e.jsxs("div",{className:"grid grid-3",style:{gap:"24px"},children:[e.jsxs("div",{style:{background:"white",padding:"24px",borderRadius:"16px",boxShadow:"var(--shadow-md)",border:"1px solid #f0f0f0"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("div",{style:{background:"var(--sky-blue)",padding:"8px",borderRadius:"8px"},children:e.jsx(We,{size:20,color:"var(--trust-blue)"})}),e.jsx("h3",{style:{margin:0,fontSize:"1.1rem"},children:"My Savings"})]}),e.jsxs("span",{style:{fontSize:"0.75rem",fontWeight:700,color:"#bbb"},children:[r.length," SAVED"]})]}),r.length===0?e.jsxs("div",{style:{textAlign:"center",padding:"20px",color:"#888",background:"#fcfcfc",borderRadius:"12px"},children:[e.jsx("p",{style:{fontSize:"0.85rem"},children:"No calculations saved yet."}),e.jsx("a",{href:"#calculator",style:{fontSize:"0.8rem",color:"var(--trust-blue)",fontWeight:700},children:"Try the Calculator →"})]}):e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:r.map(h=>{var j;return e.jsxs("div",{style:{padding:"12px",background:"#f9f9f9",borderRadius:"12px",border:"1px solid #eee",position:"relative",transition:"transform 0.2s ease"},children:[e.jsxs("div",{style:{fontSize:"0.9rem",fontWeight:700,color:"var(--trust-blue)"},children:[h.system_size,"kW System"]}),e.jsxs("div",{style:{fontSize:"0.8rem",color:"var(--zambia-green)",fontWeight:600},children:["K",(j=h.estimated_cost)==null?void 0:j.toLocaleString()," Est. Cost"]}),e.jsx("div",{style:{fontSize:"0.7rem",color:"#999",marginTop:"4px"},children:new Date(h.created_at).toLocaleDateString()}),e.jsx("button",{onClick:()=>l(h.id),style:{position:"absolute",top:"12px",right:"12px",background:"none",border:"none",color:"#ccc",cursor:"pointer"},onMouseOver:m=>m.currentTarget.style.color="#ff4d4d",onMouseOut:m=>m.currentTarget.style.color="#ccc",children:e.jsx(xe,{size:14})})]},h.id)})})]}),e.jsxs("div",{style:{background:"white",padding:"24px",borderRadius:"16px",boxShadow:"var(--shadow-md)",border:"1px solid #f0f0f0"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("div",{style:{background:"#fff0f0",padding:"8px",borderRadius:"8px"},children:e.jsx(Le,{size:20,color:"#ff4d4d",fill:"#ff4d4d"})}),e.jsx("h3",{style:{margin:0,fontSize:"1.1rem"},children:"Wishlist"})]}),e.jsxs("span",{style:{fontSize:"0.75rem",fontWeight:700,color:"#bbb"},children:[s.length," ITEMS"]})]}),s.length===0?e.jsxs("div",{style:{textAlign:"center",padding:"20px",color:"#888",background:"#fcfcfc",borderRadius:"12px"},children:[e.jsx("p",{style:{fontSize:"0.85rem"},children:"Your wishlist is empty."}),e.jsx("a",{href:"#marketplace",style:{fontSize:"0.8rem",color:"var(--sun-orange)",fontWeight:700},children:"Shop Marketplace →"})]}):e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:s.map(h=>{var j,m,w,o;return e.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center",padding:"10px",background:"#f9f9f9",borderRadius:"12px",border:"1px solid #eee"},children:[e.jsx("img",{src:(j=h.products)==null?void 0:j.image,style:{width:"45px",height:"45px",borderRadius:"8px",objectFit:"cover"},alt:(m=h.products)==null?void 0:m.name}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{fontWeight:700,fontSize:"0.85rem",color:"var(--text-dark)"},children:(w=h.products)==null?void 0:w.name}),e.jsx("div",{style:{color:"var(--trust-blue)",fontWeight:800,fontSize:"0.8rem"},children:(o=h.products)==null?void 0:o.price})]}),e.jsx("button",{onClick:()=>a(h.id),style:{background:"none",border:"none",color:"#ccc",cursor:"pointer"},onMouseOver:p=>p.currentTarget.style.color="#ff4d4d",onMouseOut:p=>p.currentTarget.style.color="#ccc",children:e.jsx(xe,{size:16})})]},h.id)})})]}),e.jsxs("div",{style:{background:"white",padding:"24px",borderRadius:"16px",boxShadow:"var(--shadow-md)",border:"1px solid #f0f0f0"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[e.jsx("div",{style:{background:"#e8f5e9",padding:"8px",borderRadius:"8px"},children:e.jsx(ye,{size:20,color:"var(--zambia-green)"})}),e.jsx("h3",{style:{margin:0,fontSize:"1.1rem"},children:"Quotes"})]}),e.jsxs("span",{style:{fontSize:"0.75rem",fontWeight:700,color:"#bbb"},children:[n.length," ACTIVE"]})]}),n.length===0?e.jsx("div",{style:{textAlign:"center",padding:"20px",color:"#888",background:"#fcfcfc",borderRadius:"12px"},children:e.jsx("p",{style:{fontSize:"0.85rem"},children:"No active quote requests."})}):e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:n.map(h=>{var j;return e.jsxs("div",{style:{padding:"12px",background:"#f9f9f9",borderRadius:"12px",border:"1px solid #eee"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"4px"},children:[e.jsx("div",{style:{fontWeight:700,fontSize:"0.85rem"},children:(j=h.products)==null?void 0:j.name}),e.jsx("span",{style:{fontSize:"0.65rem",padding:"2px 6px",borderRadius:"6px",background:h.status==="pending"?"#fff3e0":h.status==="quoted"?"#e8f5e9":"#e0f2f1",color:h.status==="pending"?"#ef6c00":h.status==="quoted"?"#2e7d32":"#00695c",fontWeight:800,textTransform:"uppercase"},children:h.status})]}),e.jsxs("div",{style:{fontSize:"0.75rem",color:"#888",fontStyle:"italic",marginBottom:"8px"},children:['"',h.message,'"']}),(h.admin_response||h.quote_price||h.quote_pdf_url)&&e.jsxs("div",{style:{marginTop:"12px",padding:"12px",background:"#e8f5e9",borderRadius:"8px",borderLeft:"3px solid var(--zambia-green)"},children:[e.jsx("div",{style:{fontSize:"0.75rem",fontWeight:700,color:"var(--zambia-green)",marginBottom:"6px"},children:"✓ Admin Response"}),h.quote_price&&e.jsxs("div",{style:{fontSize:"0.85rem",fontWeight:700,color:"#111",marginBottom:"4px"},children:["Quote: ",h.quote_price]}),h.admin_response&&e.jsx("div",{style:{fontSize:"0.8rem",color:"#555",marginBottom:"8px"},children:h.admin_response}),h.quote_pdf_url&&e.jsx("button",{onClick:()=>{console.log("Opening PDF:",h.quote_pdf_url),y(h.quote_pdf_url),u(!0)},style:{padding:"6px 12px",background:"var(--trust-blue)",color:"white",border:"none",borderRadius:"6px",fontSize:"0.8rem",cursor:"pointer",marginTop:"4px"},children:"📄 View Quote Document"})]})]},h.id)})})]})]})]})}),is=({profile:i,onAddProduct:s,stats:r,inquiries:n,products:a,onUpdateInquiryStatus:l,onDeleteProduct:y})=>e.jsx("section",{style:{padding:"60px 0",background:"linear-gradient(to right, #e3f2fd, #ffffff)"},children:e.jsxs("div",{className:"container",style:{width:"100%"},children:[e.jsx("div",{className:"badge",style:{background:"var(--zambia-green)",color:"white",marginBottom:"16px"},children:"Supplier Panel"}),e.jsxs("h2",{children:["Partner Portal: ",i==null?void 0:i.full_name]}),e.jsxs("div",{className:"grid grid-3",style:{marginTop:"30px",marginBottom:"40px"},children:[e.jsxs("div",{style:{background:"white",padding:"24px",borderRadius:"12px",boxShadow:"var(--shadow-sm)",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"2.5rem",fontWeight:800,color:"var(--trust-blue)"},children:r.listings}),e.jsx("div",{style:{fontWeight:600,color:"#666"},children:"Active Listings"})]}),e.jsxs("div",{style:{background:"white",padding:"24px",borderRadius:"12px",boxShadow:"var(--shadow-sm)",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"2.5rem",fontWeight:800,color:"var(--sun-orange)"},children:r.inquiries}),e.jsx("div",{style:{fontWeight:600,color:"#666"},children:"Active Inquiries"})]}),e.jsx("div",{style:{background:"white",padding:"24px",borderRadius:"12px",boxShadow:"var(--shadow-sm)",textAlign:"center",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:e.jsx("button",{onClick:s,className:"btn btn-primary",style:{width:"100%",padding:"16px"},children:"+ Add New Product"})})]}),e.jsxs("div",{className:"grid grid-2",style:{gap:"30px"},children:[e.jsxs("div",{style:{background:"white",padding:"30px",borderRadius:"16px",boxShadow:"var(--shadow-md)"},children:[e.jsx("h3",{style:{marginBottom:"20px",display:"flex",gap:"10px"},children:"Incoming Inquiries"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"16px"},children:n.length===0?e.jsx("p",{style:{color:"#888",textAlign:"center"},children:"No inquiries received yet."}):n.map(u=>{var h,j,m;return e.jsxs("div",{style:{padding:"20px",border:"1px solid #eee",borderRadius:"12px",background:"#fafafa"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"},children:[e.jsx("span",{style:{fontWeight:700,color:"var(--trust-blue)"},children:(h=u.products)==null?void 0:h.name}),e.jsxs("select",{value:u.status,onChange:w=>l(u.id,w.target.value),style:{padding:"4px 8px",borderRadius:"6px",border:"1px solid #ddd",fontSize:"0.75rem",fontWeight:700},children:[e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"quoted",children:"Quoted"}),e.jsx("option",{value:"completed",children:"Completed"})]})]}),e.jsxs("div",{style:{fontSize:"0.85rem",marginBottom:"8px"},children:[e.jsx("strong",{children:"From:"})," ",(j=u.buyer)==null?void 0:j.full_name," (",(m=u.buyer)==null?void 0:m.email,")"]}),e.jsxs("p",{style:{fontSize:"0.85rem",color:"#555",fontStyle:"italic",margin:"10px 0"},children:['"',u.message,'"']}),e.jsxs("div",{style:{fontSize:"0.75rem",color:"#888",marginTop:"10px"},children:["Received: ",new Date(u.created_at).toLocaleDateString()]})]},u.id)})})]}),e.jsxs("div",{style:{background:"white",padding:"30px",borderRadius:"16px",boxShadow:"var(--shadow-md)"},children:[e.jsx("h3",{style:{marginBottom:"20px"},children:"My Inventory"}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"12px"},children:a.length===0?e.jsx("p",{style:{color:"#888",textAlign:"center"},children:"No products listed."}):a.map(u=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"15px",padding:"12px",border:"1px solid #eee",borderRadius:"10px"},children:[e.jsx("img",{src:u.image,style:{width:"50px",height:"50px",borderRadius:"6px",objectFit:"cover"},alt:u.name}),e.jsxs("div",{style:{flex:1},children:[e.jsx("div",{style:{fontWeight:700,fontSize:"0.9rem"},children:u.name}),e.jsx("div",{style:{fontSize:"0.8rem",color:"var(--zambia-green)",fontWeight:700},children:u.price})]}),e.jsx("button",{onClick:()=>y(u.id),style:{background:"none",border:"none",color:"#ff4d4d",cursor:"pointer"},children:e.jsx(xe,{size:18})})]},u.id))})]})]})]})}),ns=()=>{var V,le;const[i,s]=c.useState(null),[r,n]=c.useState(null),[a,l]=c.useState(!1),[y,u]=c.useState("user"),[h,j]=c.useState(null),[m,w]=c.useState(!0),[o,p]=c.useState([]),[S,I]=c.useState(!1),[K,D]=c.useState(!1),[X,q]=c.useState(!1),[L,Z]=c.useState(0),[ae,E]=c.useState({listings:0,inquiries:0}),[U,d]=c.useState([]),[k,oe]=c.useState([]),[se,me]=c.useState([]),[de,re]=c.useState([]),[ue,he]=c.useState([]),[Y,x]=c.useState(!1),[R,H]=c.useState(!1),[_,ge]=c.useState(null),G=f=>{u(f),l(!0)};c.useEffect(()=>{var f;if((f=i==null?void 0:i.user)!=null&&f.id){const v=localStorage.getItem(`cart_${i.user.id}`);if(v)try{p(JSON.parse(v))}catch(C){console.error("Failed to parse cart",C),p([])}else p([])}else p([])},[(V=i==null?void 0:i.user)==null?void 0:V.id]),c.useEffect(()=>{var f;(f=i==null?void 0:i.user)!=null&&f.id&&localStorage.setItem(`cart_${i.user.id}`,JSON.stringify(o))},[o,(le=i==null?void 0:i.user)==null?void 0:le.id]);const Ae=f=>{p(v=>[...v,f]),z(`${f.name} added to your solar cart!`,"success")},Te=f=>{p(v=>v.filter((C,ee)=>ee!==f))},je=async f=>{q(!0),console.log("Starting product save process...",f);try{let v="";if(f.imageFile){const $=f.imageFile,Se=$.name.split(".").pop(),st=`${Math.random().toString(36).substring(2)}-${Date.now()}.${Se}`,De=`${i.user.id}/${st}`;console.log("Uploading file to bucket 'Product'...",De);const{error:Fe,data:os}=await b.storage.from("Product").upload(De,$);if(Fe)throw console.error("Upload error details:",Fe),new Error(`Upload failed: ${Fe.message}. Make sure the 'Product' bucket exists and has public 'insert' policies.`);console.log("Upload successful, fetching public URL...");const{data:{publicUrl:rt}}=b.storage.from("Product").getPublicUrl(De);v=rt,console.log("Public URL generated:",v)}console.log("Inserting product into database...");const{imageFile:C,previewUrl:ee,...ve}=f,{error:fe}=await b.from("products").insert([{...ve,image:v,supplier_id:i.user.id,slug:f.name.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,"")+"-"+Math.random().toString(36).substr(2,5),verified:!0}]);if(fe)throw console.error("Database error details:",fe),fe.message.includes("foreign key constraint")?new Error("Database save failed. Your account needs to be initialized in the supplier list. Please run the 'Supplier Database Fix' SQL script provided in our last message."):new Error(`Database save failed: ${fe.message}`);z("Product listed successfully with image!","success"),D(!1),Z($=>$+1),B()}catch(v){console.error("Caught error in saveProduct:",v),z(v.message||"An unknown error occurred","error")}finally{q(!1)}},ie=async(f,v)=>{try{const{error:C}=await b.from("inquiries").update({status:v}).eq("id",f);if(C)throw C;d(ee=>ee.map(ve=>ve.id===f?{...ve,status:v}:ve)),z(`Status updated to ${v}`,"success"),B()}catch{z("Failed to update status","error")}},t=async f=>{if(confirm("Are you sure you want to delete this product listing?"))try{const{error:v}=await b.from("products").delete().eq("id",f);if(v)throw v;z("Product deleted successfully","success"),Z(C=>C+1),B()}catch{z("Failed to delete product","error")}},g=async f=>{if(!i){z("Please login to request a quote.","info");return}try{q(!0);const v=i.user.id,C=(r==null?void 0:r.phone)||"N/A",ee=f.map($=>{const Se=`QTY: 1 | PHONE: ${C} | NOTES: Requested from cart`;return b.from("inquiries").insert([{product_id:$.id,supplier_id:$.supplier_id,buyer_id:v,message:Se,status:"pending"}])}),fe=(await Promise.all(ee)).filter($=>$.error).map($=>$.error);if(fe.length>0)throw console.error("Errors during cart quote submission:",fe),new Error("Failed to submit some quote requests.");try{const $=f.map(Se=>b.functions.invoke("hyper-api",{body:{product_name:Se.name,customer_email:i.user.email,customer_phone:C,quantity:1,notes:"Requested from cart"}}));await Promise.all($),console.log("Cart email notifications triggered.")}catch($){console.error("Failed to trigger cart email notifications:",$)}z(`Successfully requested quotes for ${f.length} items!`,"success"),p([]),localStorage.removeItem(`cart_${v}`),I(!1),F()}catch(v){console.error("Cart quote submission error:",v),z(v.message||"Failed to submit quote request","error")}finally{q(!1)}},A=async f=>{if(!i){z("Please login to save products","info");return}try{const v=se.find(C=>C.product_id===f);if(v){const{error:C}=await b.from("saved_products").delete().eq("id",v.id);if(C)throw C;z("Product removed from wishlist","info")}else{const{error:C}=await b.from("saved_products").insert([{user_id:i.user.id,product_id:f}]);if(C)throw C;z("Product saved to wishlist","success")}F()}catch{z("Error saving product","error")}},O=async f=>{try{const{error:v}=await b.from("saved_products").delete().eq("id",f);if(v)throw v;F()}catch{z("Failed to remove item","error")}},M=async f=>{try{const{error:v}=await b.from("calculator_results").delete().eq("id",f);if(v)throw v;z("Calculation history item deleted","info"),F()}catch{z("Failed to delete history item","error")}},N=async f=>{if(!i){z("Please login to save results","info");return}try{const{error:v}=await b.from("calculator_results").insert([{user_id:i.user.id,monthly_bill:f.bill,system_size:f.systemSize,estimated_cost:f.estimatedCost,battery_capacity:f.batteryCapacity||0,panel_count:f.panelCount||0}]);if(v)throw v;z("Calculation saved to dashboard!","success"),F()}catch{z("Failed to save result","error")}},F=async()=>{if(!(!i||(r==null?void 0:r.role)!=="user"))try{const{data:f}=await b.from("saved_products").select("*, products(*)").eq("user_id",i.user.id),{data:v}=await b.from("calculator_results").select("*").eq("user_id",i.user.id).order("created_at",{ascending:!1}),{data:C}=await b.from("inquiries").select("*, products(name)").eq("buyer_id",i.user.id).order("created_at",{ascending:!1});me(f||[]),re(v||[]),he(C||[])}catch(f){console.error("Error fetching user data:",f)}},B=async()=>{if(!(!i||(r==null?void 0:r.role)!=="supplier"))try{const{data:f,count:v}=await b.from("products").select("*",{count:"exact"}).eq("supplier_id",i.user.id).order("created_at",{ascending:!1}),{data:C,count:ee}=await b.from("inquiries").select("*, products(name), buyer:profiles!inquiries_buyer_id_fkey(full_name, email)",{count:"exact"}).eq("supplier_id",i.user.id).order("created_at",{ascending:!1});E({listings:v||0,inquiries:ee||0}),d(C||[]),oe(f||[])}catch(f){console.error("Error fetching supplier data:",f)}};c.useEffect(()=>{i&&(r==null?void 0:r.role)==="supplier"?B():i&&(r==null?void 0:r.role)==="user"&&F()},[i,r,L]);const z=(f,v="success")=>{j({message:f,type:v}),setTimeout(()=>j(null),5e3)};c.useEffect(()=>{(async()=>{try{const{data:{session:C}}=await b.auth.getSession();s(C),C&&await W(C.user.id)}finally{w(!1)}})();const{data:{subscription:v}}=b.auth.onAuthStateChange((C,ee)=>{console.log("Auth event:",C),C==="PASSWORD_RECOVERY"&&x(!0),s(ee),ee?W(ee.user.id):(n(null),p([]))});return()=>v.unsubscribe()},[]);const W=async f=>{const{data:v,error:C}=await b.from("profiles").select("*").eq("id",f).single();C||n(v)},ce=async()=>{await b.auth.signOut()};return m?e.jsxs("div",{style:{height:"100vh",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",background:"var(--sky-blue)"},children:[e.jsx("div",{className:"spinner",style:{marginBottom:"16px"}}),e.jsx("div",{style:{fontWeight:700,color:"var(--trust-blue)"},children:"Connecting to SunGate..."})]}):Y?e.jsx(Ke,{isFullPage:!0,isUpdatePassword:!0,onAuthComplete:()=>{x(!1),window.location.hash=""}}):e.jsxs("div",{className:"app",children:[i?e.jsx(ts,{session:i,profile:r,onAuthClick:()=>l(!0),onLogout:ce,cartCount:o.length,onCartClick:()=>I(!0)}):e.jsx(Yt,{onAuthClick:G}),e.jsx(Ft,{isOpen:S,onClose:()=>I(!1),items:o,onRemove:Te,onNotify:z,onQuoteRequest:g}),a&&e.jsx(Ke,{initialRole:y,onClose:()=>l(!1),onAuthComplete:()=>l(!1)}),h&&e.jsxs("div",{style:{position:"fixed",bottom:"24px",right:"24px",zIndex:2e3,background:h.type==="success"?"var(--zambia-green)":"var(--trust-blue)",color:"white",padding:"16px 24px",borderRadius:"12px",boxShadow:"var(--shadow-lg)",display:"flex",alignItems:"center",gap:"12px",animation:"slideUp 0.3s ease-out"},children:[e.jsx(J,{size:20}),e.jsx("span",{style:{fontWeight:600},children:h.message})]}),e.jsx("main",{children:e.jsxs(zt,{children:[e.jsx(pe,{path:"/print-quote/:id",element:e.jsx(Pt,{})}),e.jsx(pe,{path:"/",element:i?(r==null?void 0:r.role)==="admin"?e.jsx(qt,{profile:r}):(r==null?void 0:r.role)==="supplier"?e.jsx(is,{profile:r,onAddProduct:()=>D(!0),stats:ae,inquiries:U,products:k,onUpdateInquiryStatus:ie,onDeleteProduct:t}):e.jsxs(e.Fragment,{children:[e.jsx(rs,{profile:r,savedProducts:se,calcHistory:de,userInquiries:ue,onRemoveSaved:O,onDeleteHistory:M,setPdfUrl:ge,setShowPdfModal:H}),e.jsx("div",{id:"calculator",children:e.jsx(Wt,{onSaveResult:N})}),e.jsx("div",{id:"marketplace",children:e.jsx(At,{session:i,profile:r,onNotify:z,onAddToCart:Ae,refreshTrigger:L,savedProductIds:se.map(f=>f.product_id),onToggleSave:A})}),e.jsx("div",{id:"installers",children:e.jsx(Tt,{onNotify:z})}),e.jsx("div",{id:"blog",children:e.jsx(Dt,{})})]}):e.jsx(Qe,{onAuthClick:G})}),e.jsx(pe,{path:"/partners",element:e.jsx(Jt,{onAuthClick:G})}),e.jsx(pe,{path:"/calculator",element:e.jsx(et,{onAuthClick:G})}),e.jsx(pe,{path:"/blog",element:e.jsx(es,{})}),e.jsx(pe,{path:"/help",element:e.jsx(Mt,{})}),e.jsx(pe,{path:"/terms",element:e.jsx(Lt,{})}),e.jsx(pe,{path:"/privacy",element:e.jsx(_t,{})}),e.jsx(pe,{path:"*",element:e.jsx(Qe,{onAuthClick:G})})]})}),e.jsx(Et,{isOpen:K,onClose:()=>D(!1),onSave:je,loading:X}),R&&_&&e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.8)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:3e3},onClick:()=>H(!1),children:e.jsxs("div",{style:{background:"white",borderRadius:"12px",width:"90%",maxWidth:"900px",height:"90vh",display:"flex",flexDirection:"column"},onClick:f=>f.stopPropagation(),children:[e.jsxs("div",{style:{padding:"16px",borderBottom:"1px solid #eee",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsx("h3",{style:{margin:0},children:"Quote Document"}),e.jsx("button",{onClick:()=>H(!1),style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#666"},children:"×"})]}),e.jsx("div",{style:{flex:1,overflow:"hidden"},children:e.jsx("iframe",{src:_+"#toolbar=0&navpanes=0&scrollbar=0",style:{width:"100%",height:"100%",border:"none"},title:"Quote Document"})}),e.jsx("div",{style:{padding:"12px",borderTop:"1px solid #eee",textAlign:"center",fontSize:"0.85rem",color:"#666"},children:'Note: Right-click and "Save As" to download if needed'})]})}),i?e.jsx(ss,{openAuthWithRole:G}):e.jsx(tt,{onDashboardClick:()=>G("user")})]})},ze=document.getElementById("root");ze&&(ze.innerHTML='<div style="color: #666; padding: 20px; font-family: sans-serif;">SunGate Loading... (If this stays, React failed to boot)</div>');try{Ct.createRoot(ze).render(e.jsx(Bt.StrictMode,{children:e.jsx(Rt,{children:e.jsx(ns,{})})}))}catch(i){ze&&(ze.innerHTML=`
            <div style="color: white; background: #d32f2f; padding: 24px; border-radius: 12px; font-family: sans-serif; margin: 20px;">
                <h1 style="margin-top: 0;">React Render Error</h1>
                <p>The application crashed during startup:</p>
                <pre style="background: rgba(0,0,0,0.1); padding: 16px; border-radius: 8px; overflow: auto;">${i.stack||i.message}</pre>
                <p>Please check the terminal for build errors or dev console for more details.</p>
            </div>
        `),console.error("Bootstrap Error:",i)}
